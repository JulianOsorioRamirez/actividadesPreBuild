{"ast":null,"code":"import _objectSpread from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\PruebaDespliegueAzure\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\PermissionScreen\\\\AssignPermissionListScreen\\\\AssignPermissionListScreen.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Card, makeStyles, Tooltip } from '@material-ui/core';\nimport { Visibility, Delete } from '@material-ui/icons';\nimport CardBody from 'components/Card/CardBody';\nimport GridContainer from 'components/Grid/GridContainer';\nimport GridItem from 'components/Grid/GridItem';\nimport ReactTable from 'components/ReactTable/ReactTable';\nimport Button from 'components/CustomButtons/Button';\nimport SnackbarContent from 'components/Snackbar/SnackbarContent';\nimport UpdatePermissionModal from './components/UpdatePermissionModal';\nimport DeletePermissionModal from './components/DeletePermissionModal';\nimport styles from './styles/permissionListScreenStyles';\nimport { getUserPermissions } from 'redux/actions/userPermissionActions';\nimport { getPermissions } from 'redux/actions/permissionActions';\nimport { getUsers } from 'redux/actions/userActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar AssignPermissionListScreen = function AssignPermissionListScreen() {\n  _s();\n\n  var dispatch = useDispatch();\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showUpdateUserPermission = _useState4[0],\n      setShowUpdatePermission = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showDeleteUserPermission = _useState6[0],\n      setShowDeletePermission = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      updateUserPermissionModal = _useState8[0],\n      setUpdatePermissionModal = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      deleteUserPermissionModal = _useState10[0],\n      setDeletePermissionModal = _useState10[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.userPermissionList;\n  }),\n      loadingUserPermissionList = _useSelector.loadingUserPermissionList,\n      userPermissions = _useSelector.userPermissions,\n      successUserPermissionList = _useSelector.successUserPermissionList,\n      errorUserPermissionList = _useSelector.errorUserPermissionList;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.permissionList;\n  }),\n      permissions = _useSelector2.permissions;\n\n  var _useSelector3 = useSelector(function (state) {\n    return state.userList;\n  }),\n      users = _useSelector3.users;\n\n  useEffect(function () {\n    if (successUserPermissionList) {\n      var list = userPermissions.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          id_permiso_puesto: item.id_permiso_puesto,\n          nameAndLastNames: \"\".concat(item.nombre, \" \").concat(item.apellido1, \" \").concat((item === null || item === void 0 ? void 0 : item.apellido2) || '', \" \"),\n          actions: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"actions-right\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              justIcon: true,\n              round: true,\n              simple: true,\n              onClick: function onClick() {\n                return showDeleteUserPermissionHandler(item.id_permiso_puesto);\n              },\n              color: \"danger\",\n              className: \"delete\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Borrar\",\n                children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, _this)\n        });\n      });\n      setData(list);\n      return;\n    }\n\n    dispatch(getUserPermissions());\n  }, [successUserPermissionList]);\n  useEffect(function () {\n    dispatch(getPermissions());\n    dispatch(getUsers());\n  }, [dispatch]);\n\n  var showUpdateUserPermissionHandler = function showUpdateUserPermissionHandler(id) {\n    var permission = userPermissions.find(function (permission) {\n      return permission.id_permiso_puesto === id;\n    });\n    setShowUpdatePermission(permission);\n    setUpdatePermissionModal(true);\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setUpdatePermissionModal(false);\n    setShowUpdatePermission({});\n  };\n\n  var showDeleteUserPermissionHandler = function showDeleteUserPermissionHandler(id) {\n    var permission = userPermissions.find(function (permission) {\n      return permission.id_permiso_puesto === id;\n    });\n    setShowDeletePermission(permission);\n    setDeletePermissionModal(true);\n  };\n\n  var closeDeletePermissionModal = function closeDeletePermissionModal() {\n    setDeletePermissionModal(false);\n    setShowDeletePermission({});\n  };\n\n  var handleData = function handleData() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    return data.map(function (user) {\n      var puesto = users === null || users === void 0 ? void 0 : users.find(function (usr) {\n        return usr.id_puesto === user.id_puesto;\n      });\n      var permiso = permissions === null || permissions === void 0 ? void 0 : permissions.find(function (permiso) {\n        return permiso.id_permiso === user.id_permiso;\n      });\n      return _objectSpread(_objectSpread({}, user), {}, {\n        id_puesto: puesto === null || puesto === void 0 ? void 0 : puesto.nombre,\n        id_permiso: permiso === null || permiso === void 0 ? void 0 : permiso.permiso\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GridContainer, {\n      children: /*#__PURE__*/_jsxDEV(GridItem, {\n        xs: 12,\n        className: classes.rootItem,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardBody, {\n            children: loadingUserPermissionList ? 'Cargando Permisos...' : /*#__PURE__*/_jsxDEV(ReactTable, {\n              columns: [{\n                Header: 'NOMBRE Y APELLIDOS',\n                accessor: 'nameAndLastNames'\n              }, {\n                Header: 'PERMISO',\n                accessor: 'id_permiso'\n              }, {\n                Header: 'ACCIONES',\n                accessor: 'actions'\n              }],\n              data: handleData(data)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, _this), errorUserPermissionList && /*#__PURE__*/_jsxDEV(GridContainer, {\n            children: /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n                message: errorUserPermissionList,\n                color: \"danger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, _this), deleteUserPermissionModal && /*#__PURE__*/_jsxDEV(DeletePermissionModal, {\n      deleteUserPermissionModal: deleteUserPermissionModal,\n      handleCloseDeletePermissionModal: closeDeletePermissionModal,\n      showDeleteUserPermissionInfo: showDeleteUserPermission\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(AssignPermissionListScreen, \"gtLKc69FZhKdFcu7O3rXGZicfeQ=\", false, function () {\n  return [useDispatch, useStyles, useSelector, useSelector, useSelector];\n});\n\n_c = AssignPermissionListScreen;\nexport default AssignPermissionListScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssignPermissionListScreen\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/src/screens/control-panel/PermissionScreen/AssignPermissionListScreen/AssignPermissionListScreen.js"],"names":["useState","useEffect","useDispatch","useSelector","Card","makeStyles","Tooltip","Visibility","Delete","CardBody","GridContainer","GridItem","ReactTable","Button","SnackbarContent","UpdatePermissionModal","DeletePermissionModal","styles","getUserPermissions","getPermissions","getUsers","useStyles","AssignPermissionListScreen","dispatch","classes","data","setData","showUpdateUserPermission","setShowUpdatePermission","showDeleteUserPermission","setShowDeletePermission","updateUserPermissionModal","setUpdatePermissionModal","deleteUserPermissionModal","setDeletePermissionModal","state","userPermissionList","loadingUserPermissionList","userPermissions","successUserPermissionList","errorUserPermissionList","permissionList","permissions","userList","users","list","map","item","id_permiso_puesto","nameAndLastNames","nombre","apellido1","apellido2","actions","showDeleteUserPermissionHandler","showUpdateUserPermissionHandler","id","permission","find","handleCloseModal","closeDeletePermissionModal","handleData","user","puesto","usr","id_puesto","permiso","id_permiso","rootItem","Header","accessor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Card, makeStyles, Tooltip } from '@material-ui/core'\r\nimport { Visibility, Delete } from '@material-ui/icons'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport ReactTable from 'components/ReactTable/ReactTable'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport UpdatePermissionModal from './components/UpdatePermissionModal'\r\nimport DeletePermissionModal from './components/DeletePermissionModal'\r\nimport styles from './styles/permissionListScreenStyles'\r\nimport { getUserPermissions } from 'redux/actions/userPermissionActions'\r\nimport { getPermissions } from 'redux/actions/permissionActions'\r\nimport { getUsers } from 'redux/actions/userActions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AssignPermissionListScreen = () => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n\r\n  const [data, setData] = useState([])\r\n  const [showUpdateUserPermission, setShowUpdatePermission] = useState({})\r\n  const [showDeleteUserPermission, setShowDeletePermission] = useState({})\r\n  const [updateUserPermissionModal, setUpdatePermissionModal] = useState(false)\r\n  const [deleteUserPermissionModal, setDeletePermissionModal] = useState(false)\r\n\r\n  const {\r\n    loadingUserPermissionList,\r\n    userPermissions,\r\n    successUserPermissionList,\r\n    errorUserPermissionList,\r\n  } = useSelector((state) => state.userPermissionList)\r\n  const { permissions } = useSelector((state) => state.permissionList)\r\n  const { users } = useSelector((state) => state.userList)\r\n\r\n  useEffect(() => {\r\n    if (successUserPermissionList) {\r\n      const list = userPermissions.map((item) => {\r\n        return {\r\n          ...item,\r\n          id_permiso_puesto: item.id_permiso_puesto,\r\n          nameAndLastNames: `${item.nombre} ${item.apellido1} ${item?.apellido2 || ''} `,\r\n          actions: (\r\n            <div className='actions-right'>\r\n              {/* <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => showUpdateUserPermissionHandler(item.id_permiso_puesto)}\r\n                color='success'\r\n                className='edit'\r\n              >\r\n                <Visibility />\r\n              </Button> */}\r\n              <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => showDeleteUserPermissionHandler(item.id_permiso_puesto)}\r\n                color='danger'\r\n                className='delete'\r\n              >\r\n                <Tooltip title='Borrar'>\r\n                  <Delete />\r\n                </Tooltip>\r\n              </Button>\r\n            </div>\r\n          ),\r\n        }\r\n      })\r\n      setData(list)\r\n      return\r\n    }\r\n    dispatch(getUserPermissions())\r\n  }, [successUserPermissionList])\r\n\r\n  useEffect(() => {\r\n    dispatch(getPermissions())\r\n    dispatch(getUsers())\r\n  }, [dispatch])\r\n\r\n  const showUpdateUserPermissionHandler = (id) => {\r\n    const permission = userPermissions.find((permission) => permission.id_permiso_puesto === id)\r\n    setShowUpdatePermission(permission)\r\n    setUpdatePermissionModal(true)\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setUpdatePermissionModal(false)\r\n    setShowUpdatePermission({})\r\n  }\r\n\r\n  const showDeleteUserPermissionHandler = (id) => {\r\n    const permission = userPermissions.find((permission) => permission.id_permiso_puesto === id)\r\n    setShowDeletePermission(permission)\r\n    setDeletePermissionModal(true)\r\n  }\r\n\r\n  const closeDeletePermissionModal = () => {\r\n    setDeletePermissionModal(false)\r\n    setShowDeletePermission({})\r\n  }\r\n\r\n  const handleData = (data = []) => {\r\n    return data.map((user) => {\r\n      const puesto = users?.find((usr) => usr.id_puesto === user.id_puesto)\r\n      const permiso = permissions?.find((permiso) => permiso.id_permiso === user.id_permiso)\r\n      return {\r\n        ...user,\r\n        id_puesto: puesto?.nombre,\r\n        id_permiso: permiso?.permiso,\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <GridContainer>\r\n        <GridItem xs={12} className={classes.rootItem}>\r\n          <Card>\r\n            <CardBody>\r\n              {loadingUserPermissionList ? (\r\n                'Cargando Permisos...'\r\n              ) : (\r\n                <ReactTable\r\n                  columns={[\r\n                    {\r\n                      Header: 'NOMBRE Y APELLIDOS',\r\n                      accessor: 'nameAndLastNames',\r\n                    },\r\n                    {\r\n                      Header: 'PERMISO',\r\n                      accessor: 'id_permiso',\r\n                    },\r\n                    {\r\n                      Header: 'ACCIONES',\r\n                      accessor: 'actions',\r\n                    },\r\n                  ]}\r\n                  data={handleData(data)}\r\n                />\r\n              )}\r\n            </CardBody>\r\n            {errorUserPermissionList && (\r\n              <GridContainer>\r\n                <GridItem xs={12}>\r\n                  <SnackbarContent message={errorUserPermissionList} color='danger' />\r\n                </GridItem>\r\n              </GridContainer>\r\n            )}\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n      {/* {updateUserPermissionModal && (\r\n        <UpdatePermissionModal\r\n          handleCloseModal={handleCloseModal}\r\n          updateUserPermissionModal={updateUserPermissionModal}\r\n          showUpdateUserPermission={showUpdateUserPermission}\r\n        />\r\n      )} */}\r\n      {deleteUserPermissionModal && (\r\n        <DeletePermissionModal\r\n          deleteUserPermissionModal={deleteUserPermissionModal}\r\n          handleCloseDeletePermissionModal={closeDeletePermissionModal}\r\n          showDeleteUserPermissionInfo={showDeleteUserPermission}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AssignPermissionListScreen\r\n"]},"metadata":{},"sourceType":"module"}