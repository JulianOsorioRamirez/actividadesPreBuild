{"ast":null,"code":"import _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\CodigoFuente\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\DashboardScreen\\\\components\\\\DepartamentoMultiSelect.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport GridItem from 'components/Grid/GridItem';\nimport MultiSelectDepartments from 'components/MultiSelectDepartments/MultiSelectDepartments';\nimport { DEPARTAMENT_LIST_RESET } from 'redux/constants/departamentConstants';\nimport { getDepartaments, getDepartamentsRelated } from 'redux/actions/departamentActions';\nimport styles from '../styles/multiSelectStyles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar DepartamentoMultiSelect = function DepartamentoMultiSelect(_ref) {\n  _s();\n\n  var departamentosData = _ref.departamentosData,\n      setDepartamentosData = _ref.setDepartamentosData,\n      _ref$relatedPositions = _ref.relatedPositions,\n      relatedPositions = _ref$relatedPositions === void 0 ? false : _ref$relatedPositions;\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.departamentList;\n  }),\n      successDepartamentList = _useSelector.successDepartamentList,\n      departaments = _useSelector.departaments;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.departamentRelatedList;\n  }),\n      successDepartamentRelatedList = _useSelector2.successDepartamentRelatedList,\n      departamentsRelated = _useSelector2.departamentsRelated;\n\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: DEPARTAMENT_LIST_RESET\n      });\n    };\n  }, [dispatch]);\n  useEffect(function () {\n    if (relatedPositions) return;\n\n    if (!successDepartamentList) {\n      dispatch(getDepartaments());\n    } else {\n      var filteredServices = departaments.filter(function (p) {\n        return p.codigo_departamento !== '';\n      });\n      setData(filteredServices);\n    }\n  }, [successDepartamentList]);\n  useEffect(function () {\n    if (!relatedPositions) return;\n\n    if (!successDepartamentRelatedList) {\n      dispatch(getDepartamentsRelated());\n    } else {\n      var filteredServices = departamentsRelated.filter(function (p) {\n        return p.codigo_departamento !== '';\n      });\n      setData(filteredServices);\n    }\n  }, [successDepartamentRelatedList]);\n\n  var handleChangeMultiData = function handleChangeMultiData(event) {\n    var value = event.target.value;\n\n    if (departamentosData.map(function (departamento) {\n      return departamento.id_departamento;\n    }).indexOf(value[value.length - 1].id_departamento) === -1) {\n      setDepartamentosData(value);\n    } else {\n      setDepartamentosData(departamentosData.filter(function (departamento) {\n        var _value;\n\n        return departamento.id_departamento !== ((_value = value[value.length - 1]) === null || _value === void 0 ? void 0 : _value.id_departamento);\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(GridItem, {\n    xs: 12,\n    children: /*#__PURE__*/_jsxDEV(MultiSelectDepartments, {\n      label: 'Departamentos',\n      data: data,\n      multiData: departamentosData,\n      handleChangeMultiData: handleChangeMultiData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 10\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 7\n  }, _this);\n};\n\n_s(DepartamentoMultiSelect, \"ROrc4NuA/81d04EHAIYsMkVuITA=\", false, function () {\n  return [useStyles, useDispatch, useSelector, useSelector];\n});\n\n_c = DepartamentoMultiSelect;\nexport default DepartamentoMultiSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"DepartamentoMultiSelect\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/CodigoFuente/Frontend/src/screens/control-panel/DashboardScreen/components/DepartamentoMultiSelect.js"],"names":["useState","useEffect","useDispatch","useSelector","makeStyles","GridItem","MultiSelectDepartments","DEPARTAMENT_LIST_RESET","getDepartaments","getDepartamentsRelated","styles","useStyles","DepartamentoMultiSelect","departamentosData","setDepartamentosData","relatedPositions","classes","dispatch","data","setData","state","departamentList","successDepartamentList","departaments","departamentRelatedList","successDepartamentRelatedList","departamentsRelated","type","filteredServices","filter","p","codigo_departamento","handleChangeMultiData","event","value","target","map","departamento","id_departamento","indexOf","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport MultiSelectDepartments from 'components/MultiSelectDepartments/MultiSelectDepartments'\r\nimport { DEPARTAMENT_LIST_RESET } from 'redux/constants/departamentConstants'\r\nimport { getDepartaments, getDepartamentsRelated } from 'redux/actions/departamentActions'\r\nimport styles from '../styles/multiSelectStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst DepartamentoMultiSelect = ({ departamentosData, setDepartamentosData, relatedPositions = false }) => {\r\n   const classes = useStyles()\r\n   const dispatch = useDispatch()\r\n   const [data, setData] = useState([])\r\n\r\n   const { successDepartamentList, departaments } = useSelector(\r\n      (state) => state.departamentList\r\n   )\r\n\r\n   const { successDepartamentRelatedList, departamentsRelated } = useSelector(\r\n      (state) => state.departamentRelatedList\r\n   )\r\n\r\n   useEffect(() => {\r\n      return () => dispatch({ type: DEPARTAMENT_LIST_RESET })\r\n   }, [dispatch])\r\n\r\n   useEffect(() => {\r\n      if ( relatedPositions ) return\r\n\r\n      if (!successDepartamentList) {\r\n         dispatch(getDepartaments())\r\n      } else {\r\n         const filteredServices = departaments.filter((p) => p.codigo_departamento !== '')\r\n         setData(filteredServices)\r\n      }\r\n   }, [successDepartamentList])\r\n\r\n   useEffect(() => {\r\n      if ( !relatedPositions ) return\r\n\r\n      if (!successDepartamentRelatedList) {\r\n         dispatch(getDepartamentsRelated())\r\n      } else {\r\n         const filteredServices = departamentsRelated.filter((p) => p.codigo_departamento !== '')\r\n         setData(filteredServices)\r\n      }\r\n   }, [successDepartamentRelatedList])\r\n\r\n   const handleChangeMultiData = (event) => {\r\n      const {\r\n         target: { value },\r\n      } = event\r\n      if (departamentosData.map((departamento) => departamento.id_departamento).indexOf(value[value.length - 1].id_departamento) === -1) {\r\n         setDepartamentosData(value)\r\n      } else {\r\n         setDepartamentosData(departamentosData.filter((departamento) => departamento.id_departamento !== value[value.length - 1]?.id_departamento))\r\n      }\r\n   }\r\n\r\n   return (\r\n      <GridItem xs={12}>\r\n         <MultiSelectDepartments\r\n         label={'Departamentos'}\r\n         data={data}\r\n         multiData={departamentosData}\r\n         handleChangeMultiData={handleChangeMultiData}\r\n         />\r\n      </GridItem>\r\n   )\r\n}\r\n\r\nexport default DepartamentoMultiSelect\r\n"]},"metadata":{},"sourceType":"module"}