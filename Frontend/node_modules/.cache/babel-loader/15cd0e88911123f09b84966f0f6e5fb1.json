{"ast":null,"code":"import _defineProperty from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\RegisterUserScreen\\\\RegisterUserScreen.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { format } from 'date-fns';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport { makeStyles, Select as Selectable, FormControl, InputLabel, MenuItem, ListItemText, Checkbox, Typography } from '@material-ui/core';\nimport SnackbarContent from 'components/Snackbar/SnackbarContent';\nimport GridContainer from 'components/Grid/GridContainer';\nimport GridItem from 'components/Grid/GridItem';\nimport CustomInput from 'components/CustomInput/CustomInput';\nimport Button from 'components/CustomButtons/Button';\nimport Card from 'components/Card/Card';\nimport CardBody from 'components/Card/CardBody';\nimport ResponsibleMultiSelect from './components/ResponsibleMultiSelect';\nimport ValidatorsMultiSelect from './components/ValidatorsMultiSelect';\nimport ProfileMultiSelect from './components/ProfileMultiSelect';\nimport { registerUser } from 'redux/actions/userActions';\nimport { USER_REGISTER_RESET } from 'redux/constants/userConstants';\nimport { UI_MULTI_TASK_RESET } from 'redux/constants/uiMultiTaskConstant';\nimport { PROFILE_LIST_RESET } from 'redux/constants/profileConstants';\nimport { USER_VALIDATORS_LIST_RESET } from 'redux/constants/userConstants';\nimport { USER_RESPONSIBLES_LIST_RESET } from 'redux/constants/userConstants';\nimport styles from './styles/registerUserScreenStyle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar RegisterUserScreen = function RegisterUserScreen() {\n  _s();\n\n  var dispatch = useDispatch();\n  var classes = useStyles();\n  var initialState = {\n    cod_ayre: '',\n    nombre: '',\n    apellido1: '',\n    apellido2: '',\n    jornada_laboral: '',\n    denominacion_puesto: '',\n    codigo_puesto: '',\n    activo: 'SI',\n    ver_objetivos: 'NO'\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectInput = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useState3 = useState(initialState),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userData = _useState4[0],\n      setUserData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      responsibles = _useState6[0],\n      setResponsibles = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      validators = _useState8[0],\n      setValidators = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      profilesData = _useState10[0],\n      setProfilesData = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      profilesDataError = _useState12[0],\n      setProfileError = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      alert = _useState14[0],\n      setAlert = _useState14[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.userRegister;\n  }),\n      loadingUserRegister = _useSelector.loadingUserRegister,\n      successUserRegister = _useSelector.successUserRegister,\n      errorUserRegister = _useSelector.errorUserRegister;\n\n  useEffect(function () {\n    if (successUserRegister) {\n      setAlert( /*#__PURE__*/_jsxDEV(SweetAlert, {\n        success: true,\n        style: {\n          display: 'block',\n          marginTop: '-100px'\n        },\n        title: \"Hecho!\",\n        onConfirm: function onConfirm() {\n          return confirmSuccess();\n        },\n        onCancel: function onCancel() {\n          return hideAlert();\n        },\n        confirmBtnCssClass: classes.confirmBtnCssClass,\n        children: \"Puesto de Trabajo Registrado Correctamente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this));\n    }\n  }, [successUserRegister]);\n  useEffect(function () {\n    return function () {\n      dispatch({\n        type: USER_VALIDATORS_LIST_RESET\n      });\n      dispatch({\n        type: USER_RESPONSIBLES_LIST_RESET\n      });\n      dispatch({\n        type: USER_REGISTER_RESET\n      });\n      dispatch({\n        type: PROFILE_LIST_RESET\n      });\n      setProfileError('');\n    };\n  }, [dispatch]);\n\n  var hideAlert = function hideAlert() {\n    setAlert(null);\n  };\n\n  var confirmSuccess = function confirmSuccess() {\n    dispatch({\n      type: USER_REGISTER_RESET\n    });\n    dispatch({\n      type: PROFILE_LIST_RESET\n    });\n    dispatch({\n      type: USER_VALIDATORS_LIST_RESET\n    });\n    dispatch({\n      type: USER_RESPONSIBLES_LIST_RESET\n    });\n    dispatch({\n      type: UI_MULTI_TASK_RESET\n    });\n    setProfilesData([]);\n    setValidators([]);\n    setResponsibles([]);\n    setAlert(null);\n    setProfileError('');\n    setUserData(initialState);\n  };\n\n  var registerUserHandler = function registerUserHandler(e) {\n    e.preventDefault();\n\n    if (!profilesData.length > 0) {\n      return setProfileError('El puesto de trabajo debe tener al menos un perfil');\n    }\n\n    var dataToSend = _objectSpread(_objectSpread({}, userData), {}, {\n      responsibles: responsibles,\n      profilesData: profilesData,\n      validators: validators\n    });\n\n    dispatch(registerUser(_objectSpread(_objectSpread({}, dataToSend), {}, {\n      fecha_alta: format(new Date(), 'yyyy-MM-dd')\n    })));\n  };\n\n  var handleSelectChange = function handleSelectChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name;\n    value === 'Otro' ? setInput(true) : setInput(false);\n    setUserData(_objectSpread(_objectSpread({}, userData), {}, _defineProperty({}, name, value)));\n  };\n\n  return /*#__PURE__*/_jsxDEV(GridContainer, {\n    children: [/*#__PURE__*/_jsxDEV(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 10,\n      style: {\n        margin: '0 auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: registerUserHandler,\n            children: [/*#__PURE__*/_jsxDEV(GridContainer, {\n              children: [/*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  labelText: 'Código Ayre *',\n                  id: \"cod\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    value: userData.cod_ayre,\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        cod_ayre: e.target.value\n                      }));\n                    },\n                    type: 'text',\n                    required: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  labelText: 'Código de Puesto *',\n                  id: \"cod-position\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    value: userData.codigo_puesto,\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        codigo_puesto: e.target.value\n                      }));\n                    },\n                    type: 'text',\n                    maxLength: 8,\n                    required: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  labelText: 'Nombre *',\n                  id: \"user-name\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    value: userData.nombre,\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        nombre: e.target.value\n                      }));\n                    },\n                    type: 'text',\n                    required: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  labelText: 'Primer apellido *',\n                  id: \"lastname1\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    value: userData.apellido1,\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        apellido1: e.target.value\n                      }));\n                    },\n                    type: 'text',\n                    required: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  labelText: 'Segundo apellido',\n                  id: \"lastname2\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    value: userData.apellido2,\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        apellido2: e.target.value\n                      }));\n                    },\n                    type: 'text'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: selectInput ? 4 : 6,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  className: classes.selectForm,\n                  fullWidth: true,\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    id: \"modalidad\",\n                    children: \"Jornada laboral\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(Selectable, {\n                    className: classes.select,\n                    value: selectInput ? 'Otro' : userData.jornada_laboral,\n                    onChange: function onChange(e) {\n                      return handleSelectChange(e);\n                    },\n                    name: \"jornada_laboral\",\n                    required: \"true\",\n                    children: ['35', '37.5', 'Otro'].map(function (modalidad, index) {\n                      return /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: modalidad,\n                        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                          primary: modalidad\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 27\n                        }, _this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 25\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, _this), selectInput && /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  id: \"jornada_laboral\",\n                  labelText: 'Ingrese horas',\n                  className: classes.selectInput,\n                  inputProps: {\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        jornada_laboral: e.target.value\n                      }));\n                    },\n                    type: 'number',\n                    required: true\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                  labelText: 'Denominacion del Puesto',\n                  id: \"denominacion_puesto\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    value: userData.denominacion_puesto,\n                    onChange: function onChange(e) {\n                      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                        denominacion_puesto: e.target.value\n                      }));\n                    },\n                    type: 'text'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'row',\n                  alignItems: 'center'\n                },\n                xs: 10,\n                md: 10,\n                children: [' ', /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: \" Puede ver sus objetivos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, _this), ' ', /*#__PURE__*/_jsxDEV(Checkbox, {\n                  checked: userData.ver_objetivos === 'SI',\n                  onChange: function onChange(e) {\n                    return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n                      ver_objetivos: userData.ver_objetivos === 'SI' ? 'NO' : 'SI'\n                    }));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                style: {\n                  marginTop: '55px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(ProfileMultiSelect, {\n                profilesData: profilesData,\n                setProfilesData: setProfilesData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(ResponsibleMultiSelect, {\n                responsibles: responsibles,\n                setResponsibles: setResponsibles\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(ValidatorsMultiSelect, {\n                validators: validators,\n                setValidators: setValidators\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, _this), errorUserRegister && /*#__PURE__*/_jsxDEV(GridContainer, {\n              children: /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n                  message: errorUserRegister,\n                  color: \"danger\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, _this), profilesDataError && !profilesData.length > 0 && /*#__PURE__*/_jsxDEV(GridContainer, {\n              children: /*#__PURE__*/_jsxDEV(GridItem, {\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n                  message: profilesDataError,\n                  color: \"danger\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              className: classes.registerButton,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                color: \"primary\",\n                children: loadingUserRegister ? 'Creando Puesto de Trabajo...' : 'Registrar  Puesto de Trabajo'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, _this), alert]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(RegisterUserScreen, \"hQGZc9GixK8LBFvEuYwQwR5WF70=\", false, function () {\n  return [useDispatch, useStyles, useSelector];\n});\n\n_c = RegisterUserScreen;\nexport default RegisterUserScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterUserScreen\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/src/screens/control-panel/RegisterUserScreen/RegisterUserScreen.js"],"names":["useState","useEffect","useDispatch","useSelector","format","SweetAlert","makeStyles","Select","Selectable","FormControl","InputLabel","MenuItem","ListItemText","Checkbox","Typography","SnackbarContent","GridContainer","GridItem","CustomInput","Button","Card","CardBody","ResponsibleMultiSelect","ValidatorsMultiSelect","ProfileMultiSelect","registerUser","USER_REGISTER_RESET","UI_MULTI_TASK_RESET","PROFILE_LIST_RESET","USER_VALIDATORS_LIST_RESET","USER_RESPONSIBLES_LIST_RESET","styles","useStyles","RegisterUserScreen","dispatch","classes","initialState","cod_ayre","nombre","apellido1","apellido2","jornada_laboral","denominacion_puesto","codigo_puesto","activo","ver_objetivos","selectInput","setInput","userData","setUserData","responsibles","setResponsibles","validators","setValidators","profilesData","setProfilesData","profilesDataError","setProfileError","alert","setAlert","state","userRegister","loadingUserRegister","successUserRegister","errorUserRegister","display","marginTop","confirmSuccess","hideAlert","confirmBtnCssClass","type","registerUserHandler","e","preventDefault","length","dataToSend","fecha_alta","Date","handleSelectChange","target","value","name","margin","fullWidth","onChange","required","maxLength","selectForm","select","map","modalidad","index","flexDirection","alignItems","registerButton"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { format } from 'date-fns'\r\nimport SweetAlert from 'react-bootstrap-sweetalert'\r\nimport {\r\n  makeStyles,\r\n  Select as Selectable,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  ListItemText,\r\n  Checkbox,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport CustomInput from 'components/CustomInput/CustomInput'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport Card from 'components/Card/Card'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport ResponsibleMultiSelect from './components/ResponsibleMultiSelect'\r\nimport ValidatorsMultiSelect from './components/ValidatorsMultiSelect'\r\nimport ProfileMultiSelect from './components/ProfileMultiSelect'\r\nimport { registerUser } from 'redux/actions/userActions'\r\nimport { USER_REGISTER_RESET } from 'redux/constants/userConstants'\r\nimport { UI_MULTI_TASK_RESET } from 'redux/constants/uiMultiTaskConstant'\r\nimport { PROFILE_LIST_RESET } from 'redux/constants/profileConstants'\r\nimport { USER_VALIDATORS_LIST_RESET } from 'redux/constants/userConstants'\r\nimport { USER_RESPONSIBLES_LIST_RESET } from 'redux/constants/userConstants'\r\nimport styles from './styles/registerUserScreenStyle'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst RegisterUserScreen = () => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n  const initialState = {\r\n    cod_ayre: '',\r\n    nombre: '',\r\n    apellido1: '',\r\n    apellido2: '',\r\n    jornada_laboral: '',\r\n    denominacion_puesto: '',\r\n    codigo_puesto: '',\r\n    activo: 'SI',\r\n    ver_objetivos: 'NO',\r\n  }\r\n  const [selectInput, setInput] = useState(false)\r\n  const [userData, setUserData] = useState(initialState)\r\n  const [responsibles, setResponsibles] = useState([])\r\n  const [validators, setValidators] = useState([])\r\n  const [profilesData, setProfilesData] = useState([])\r\n  const [profilesDataError, setProfileError] = useState('')\r\n  const [alert, setAlert] = useState(null)\r\n\r\n  const { loadingUserRegister, successUserRegister, errorUserRegister } = useSelector((state) => state.userRegister)\r\n  \r\n  useEffect(() => {\r\n    if (successUserRegister) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='Hecho!'\r\n          onConfirm={() => confirmSuccess()}\r\n          onCancel={() => hideAlert()}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Puesto de Trabajo Registrado Correctamente\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successUserRegister])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch({ type: USER_VALIDATORS_LIST_RESET })\r\n      dispatch({ type: USER_RESPONSIBLES_LIST_RESET })\r\n      dispatch({ type: USER_REGISTER_RESET })\r\n      dispatch({ type: PROFILE_LIST_RESET })\r\n      setProfileError('')\r\n    }\r\n  }, [dispatch])\r\n\r\n  const hideAlert = () => {\r\n    setAlert(null)\r\n  }\r\n\r\n  const confirmSuccess = () => {\r\n    dispatch({ type: USER_REGISTER_RESET })\r\n    dispatch({ type: PROFILE_LIST_RESET })\r\n    dispatch({ type: USER_VALIDATORS_LIST_RESET })\r\n    dispatch({ type: USER_RESPONSIBLES_LIST_RESET })\r\n    dispatch({ type: UI_MULTI_TASK_RESET })\r\n    setProfilesData([])\r\n    setValidators([])\r\n    setResponsibles([])\r\n    setAlert(null)\r\n    setProfileError('')\r\n    setUserData(initialState)\r\n  }\r\n\r\n  const registerUserHandler = (e) => {\r\n    e.preventDefault()\r\n    if (!profilesData.length > 0) {\r\n      return setProfileError('El puesto de trabajo debe tener al menos un perfil')\r\n    }\r\n    const dataToSend = {\r\n      ...userData,\r\n      responsibles,\r\n      profilesData,\r\n      validators,\r\n    }\r\n    dispatch(registerUser({ ...dataToSend, fecha_alta: format(new Date(), 'yyyy-MM-dd') }))\r\n  }\r\n  const handleSelectChange = (e) => {\r\n    const {\r\n      target: { value, name },\r\n    } = e\r\n    value === 'Otro' ? setInput(true) : setInput(false)\r\n    setUserData({ ...userData, [name]: value })\r\n  }\r\n\r\n  return (\r\n    <GridContainer>\r\n      <GridItem xs={12} sm={12} md={10} style={{ margin: '0 auto' }}>\r\n        <Card>\r\n          <CardBody>\r\n            <form onSubmit={registerUserHandler}>\r\n              <GridContainer>\r\n                <GridItem xs={12} md={6}>\r\n                  <CustomInput\r\n                    labelText={'Código Ayre *'}\r\n                    id='cod'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: userData.cod_ayre,\r\n                      onChange: (e) => setUserData({ ...userData, cod_ayre: e.target.value }),\r\n                      type: 'text',\r\n                      required: true,\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={6}>\r\n                  <CustomInput\r\n                    labelText={'Código de Puesto *'}\r\n                    id='cod-position'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: userData.codigo_puesto,\r\n                      onChange: (e) => setUserData({ ...userData, codigo_puesto: e.target.value }),\r\n                      type: 'text',\r\n                      maxLength: 8,\r\n                      required: true,\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={6}>\r\n                  <CustomInput\r\n                    labelText={'Nombre *'}\r\n                    id='user-name'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: userData.nombre,\r\n                      onChange: (e) => setUserData({ ...userData, nombre: e.target.value }),\r\n                      type: 'text',\r\n                      required: true,\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={6}>\r\n                  <CustomInput\r\n                    labelText={'Primer apellido *'}\r\n                    id='lastname1'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: userData.apellido1,\r\n                      onChange: (e) => setUserData({ ...userData, apellido1: e.target.value }),\r\n                      type: 'text',\r\n                      required: true,\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={6}>\r\n                  <CustomInput\r\n                    labelText={'Segundo apellido'}\r\n                    id='lastname2'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: userData.apellido2,\r\n                      onChange: (e) => setUserData({ ...userData, apellido2: e.target.value }),\r\n                      type: 'text',\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={selectInput ? 4 : 6}>\r\n                  <FormControl className={classes.selectForm} fullWidth>\r\n                    <InputLabel id='modalidad'>Jornada laboral</InputLabel>\r\n                    <Selectable\r\n                      className={classes.select}\r\n                      value={selectInput ? 'Otro' : userData.jornada_laboral}\r\n                      onChange={(e) => handleSelectChange(e)}\r\n                      name='jornada_laboral'\r\n                      required='true'\r\n                    >\r\n                      {['35', '37.5', 'Otro'].map((modalidad, index) => (\r\n                        <MenuItem key={index} value={modalidad}>\r\n                          <ListItemText primary={modalidad} />\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Selectable>\r\n                  </FormControl>\r\n                </GridItem>\r\n                {selectInput && (\r\n                  <GridItem xs={12} md={2}>\r\n                    <CustomInput\r\n                      id='jornada_laboral'\r\n                      labelText={'Ingrese horas'}\r\n                      className={classes.selectInput}\r\n                      inputProps={{\r\n                        onChange: (e) => setUserData({ ...userData, jornada_laboral: e.target.value }),\r\n                        type: 'number',\r\n                        required: true,\r\n                      }}\r\n                    />\r\n                  </GridItem>\r\n                )}\r\n                <GridItem xs={12}>\r\n                  <CustomInput\r\n                    labelText={'Denominacion del Puesto'}\r\n                    id='denominacion_puesto'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: userData.denominacion_puesto,\r\n                      onChange: (e) => setUserData({ ...userData, denominacion_puesto: e.target.value }),\r\n                      type: 'text',\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }} xs={10} md={10}>\r\n                  {' '}\r\n                  <Typography variant='subtitle2'> Puede ver sus objetivos</Typography>{' '}\r\n                  <Checkbox\r\n                    checked={userData.ver_objetivos === 'SI'}\r\n                    onChange={(e) =>\r\n                      setUserData({ ...userData, ver_objetivos: userData.ver_objetivos === 'SI' ? 'NO' : 'SI' })\r\n                    }\r\n                  />\r\n                </GridItem>\r\n                <hr style={{ marginTop: '55px' }} />\r\n                <ProfileMultiSelect profilesData={profilesData} setProfilesData={setProfilesData} />\r\n                <ResponsibleMultiSelect responsibles={responsibles} setResponsibles={setResponsibles} />\r\n                <ValidatorsMultiSelect validators={validators} setValidators={setValidators} />\r\n              </GridContainer>\r\n              {errorUserRegister && (\r\n                <GridContainer>\r\n                  <GridItem xs={12}>\r\n                    <SnackbarContent message={errorUserRegister} color='danger' />\r\n                  </GridItem>\r\n                </GridContainer>\r\n              )}\r\n              {profilesDataError && !profilesData.length > 0 && (\r\n                <GridContainer>\r\n                  <GridItem xs={12}>\r\n                    <SnackbarContent message={profilesDataError} color='danger' />\r\n                  </GridItem>\r\n                </GridContainer>\r\n              )}\r\n              <GridItem xs={12} className={classes.registerButton}>\r\n                <Button type='submit' color='primary'>\r\n                  {loadingUserRegister ? 'Creando Puesto de Trabajo...' : 'Registrar  Puesto de Trabajo'}\r\n                </Button>\r\n              </GridItem>\r\n            </form>\r\n          </CardBody>\r\n        </Card>\r\n      </GridItem>\r\n      {alert}\r\n    </GridContainer>\r\n  )\r\n}\r\n\r\nexport default RegisterUserScreen\r\n"]},"metadata":{},"sourceType":"module"}