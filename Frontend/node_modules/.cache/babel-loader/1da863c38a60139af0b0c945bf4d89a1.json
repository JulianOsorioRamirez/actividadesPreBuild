{"ast":null,"code":"import _objectSpread from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\Catalog\\\\Profile\\\\ProfileListScreen\\\\ProfileListScreen.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { Tooltip } from '@material-ui/core';\nimport ReactExport from 'react-data-export';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport { Visibility, Delete, Lightbulb, LightbulbOutlined, Edit } from '@mui/icons-material';\nimport ReactTable from 'components/ReactTable/ReactTable';\nimport GridContainer from 'components/Grid/GridContainer';\nimport Card from 'components/Card/Card';\nimport Button from 'components/CustomButtons/Button';\nimport GridItem from 'components/Grid/GridItem';\nimport CardBody from 'components/Card/CardBody';\nimport SnackbarContent from 'components/Snackbar/SnackbarContent';\nimport DeleteProfileModal from './components/DeleteModal/DeleteProfileModal';\nimport UpdateProfileModal from './components/UpdateProfileModal';\nimport DownloadConfirmModal from 'components/DownloadConfirmModal/DownloadConfirmModal';\nimport ActiveAndDesactiveProfileModal from './components/ActiveAndDesactiveModal/ActiveAndDesactiveProfileModal';\nimport ViewProfileInfoModal from './components/ViewInfoModal/ViewProfileInfoModal';\nimport { PROFILE_LIST_RESET } from 'redux/constants/profileConstants';\nimport { getProfiles } from 'redux/actions/profileActions';\nimport styles from './styles/profileListScreenStyles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar ProfileListScreen = function ProfileListScreen() {\n  _s();\n\n  var dispatch = useDispatch();\n  var ExcelFile = ReactExport.ExcelFile;\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      updateProfileModal = _useState4[0],\n      setUpdateProfileModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      deleteProfileModal = _useState6[0],\n      setDeleteProfileModal = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      desactiveModal = _useState8[0],\n      setDesactiveModal = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      downloadExcel = _useState10[0],\n      setDownloadExcel = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      downloadPdf = _useState12[0],\n      setDownloadPdf = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      activeModal = _useState14[0],\n      setActiveModal = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      excel = _useState16[0],\n      setExcel = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      pdf = _useState18[0],\n      setPdf = _useState18[1];\n\n  var _useState19 = useState({}),\n      _useState20 = _slicedToArray(_useState19, 2),\n      showActiveInfo = _useState20[0],\n      setShowActiveInfo = _useState20[1];\n\n  var _useState21 = useState({}),\n      _useState22 = _slicedToArray(_useState21, 2),\n      showDesactiveInfo = _useState22[0],\n      setShowDesactiveInfo = _useState22[1];\n\n  var _useState23 = useState({}),\n      _useState24 = _slicedToArray(_useState23, 2),\n      showUpdateProfile = _useState24[0],\n      setShowUpdateProfile = _useState24[1];\n\n  var _useState25 = useState({}),\n      _useState26 = _slicedToArray(_useState25, 2),\n      showDeleteProfileInfo = _useState26[0],\n      setShowDeleteProfileInfo = _useState26[1];\n\n  var _useState27 = useState(false),\n      _useState28 = _slicedToArray(_useState27, 2),\n      viewInfoModal = _useState28[0],\n      setViewInfoModal = _useState28[1];\n\n  var _useState29 = useState({}),\n      _useState30 = _slicedToArray(_useState29, 2),\n      showViewInfoModal = _useState30[0],\n      setShowViewInfoModal = _useState30[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.profileList;\n  }),\n      loadingProfileList = _useSelector.loadingProfileList,\n      profiles = _useSelector.profiles,\n      successProfileList = _useSelector.successProfileList,\n      errorProfileList = _useSelector.errorProfileList;\n\n  useEffect(function () {\n    if (successProfileList) {\n      var list = profiles.map(function (profile) {\n        return _objectSpread(_objectSpread({}, profile), {}, {\n          descripcion_perfil: \"\".concat(profile.descripcion_perfil || '-'),\n          actions: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"actions-right\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              justIcon: true,\n              round: true,\n              simple: true,\n              onClick: function onClick() {\n                return handlerActiveAndDesactive(profile);\n              },\n              color: \"warning\",\n              className: \"active-deactive\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"activar/desactivar\",\n                children: profile.activo === 'SI' ? /*#__PURE__*/_jsxDEV(Lightbulb, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 46\n                }, _this) : /*#__PURE__*/_jsxDEV(LightbulbOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 62\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              justIcon: true,\n              round: true,\n              simple: true,\n              onClick: function onClick() {\n                return showUpdateProfileHandler(profile.id_perfil);\n              },\n              color: \"primary\",\n              className: \"active-deactive\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Editar Informaci\\xF3n\",\n                children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              justIcon: true,\n              round: true,\n              simple: true,\n              onClick: function onClick() {\n                return showViewInfoHandler(profile.id_perfil);\n              },\n              color: \"success\",\n              className: \"edit\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Ver Informaci\\xF3n\",\n                children: /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              justIcon: true,\n              round: true,\n              simple: true,\n              onClick: function onClick() {\n                return showDeleteProfileHandler(profile.id_perfil);\n              },\n              color: \"danger\",\n              className: \"delete\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Borrar\",\n                children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, _this)\n        });\n      });\n      setData(list);\n    } else {\n      dispatch(getProfiles());\n    }\n  }, [successProfileList, dispatch]);\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: PROFILE_LIST_RESET\n      });\n    };\n  }, [dispatch]);\n  useEffect(function () {\n    if (pdf) {\n      exportPDF();\n    }\n  }, [pdf]);\n\n  var handlerActiveAndDesactive = function handlerActiveAndDesactive(profile) {\n    if (profile.activo === 'SI') {\n      showDesactiveUserHandler(profile.id_perfil);\n      return;\n    }\n\n    showActiveUserHandler(profile.id_perfil);\n  };\n\n  var showActiveUserHandler = function showActiveUserHandler(id) {\n    var profile = profiles.find(function (profile) {\n      return profile.id_perfil === id;\n    });\n    setShowActiveInfo(profile);\n    setActiveModal(true);\n  };\n\n  var closeActiveModal = function closeActiveModal() {\n    setActiveModal(false);\n    setShowActiveInfo({});\n  };\n\n  var showDesactiveUserHandler = function showDesactiveUserHandler(id) {\n    var perfil = profiles.find(function (perfil) {\n      return perfil.id_perfil === id;\n    });\n    setShowDesactiveInfo(perfil);\n    setDesactiveModal(true);\n  };\n\n  var closeDesactiveModal = function closeDesactiveModal() {\n    setDesactiveModal(false);\n    setShowDesactiveInfo({});\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setUpdateProfileModal(false);\n    setShowUpdateProfile({});\n  };\n\n  var showUpdateProfileHandler = function showUpdateProfileHandler(id) {\n    var profile = profiles.find(function (el) {\n      return el.id_perfil === id;\n    });\n    setShowUpdateProfile(profile);\n    setUpdateProfileModal(true);\n  };\n\n  var showDeleteProfileHandler = function showDeleteProfileHandler(id) {\n    var profile = profiles.find(function (el) {\n      return el.id_perfil === id;\n    });\n    setShowDeleteProfileInfo(profile);\n    setDeleteProfileModal(true);\n  };\n\n  var handleCloseDeleteProfileModal = function handleCloseDeleteProfileModal() {\n    setDeleteProfileModal(false);\n    setShowDeleteProfileInfo({});\n  };\n\n  var showViewInfoHandler = function showViewInfoHandler(id) {\n    var profile = profiles.find(function (profile) {\n      return profile.id_perfil === id;\n    });\n    setShowViewInfoModal(profile);\n    setViewInfoModal(true);\n  };\n\n  var closeViewInfoModal = function closeViewInfoModal() {\n    setViewInfoModal(false);\n    setShowViewInfoModal({});\n  };\n\n  var exportPDF = function exportPDF() {\n    var doc = new jsPDF();\n    doc.text('Perfiles', 20, 10);\n    doc.autoTable({\n      body: data,\n      columns: [{\n        header: 'Codigo de Perfil',\n        dataKey: 'codigo_perfil'\n      }, {\n        header: 'Descripcion',\n        dataKey: 'descripcion_perfil'\n      }]\n    });\n    doc.save('perfiles.pdf');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GridContainer, {\n      children: /*#__PURE__*/_jsxDEV(GridItem, {\n        xs: 12,\n        className: classes.rootItem,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardBody, {\n            children: [loadingProfileList ? 'Cargando Perfiles...' : /*#__PURE__*/_jsxDEV(ReactTable, {\n              columns: [{\n                Header: 'COD.DE PERFIL',\n                accessor: 'codigo_perfil'\n              }, {\n                Header: 'DESC.DE PERFIL',\n                accessor: 'descripcion_perfil'\n              }, {\n                Header: 'DESC.DE SUBDIRECCIÓN',\n                accessor: 'descripcion_subdireccion'\n              }, {\n                Header: 'DESC.DE SERVICIO',\n                accessor: 'descripcion_servicio'\n              }, {\n                Header: 'DESC.DE DEPARTAMENTO',\n                accessor: 'descripcion_departamento'\n              }, {\n                Header: 'DESC.DE UNIDAD',\n                accessor: 'descripcion_unidad'\n              }, {\n                Header: 'DESC.DE ROL',\n                accessor: 'descripcion_rol'\n              }, {\n                Header: 'ACCIONES',\n                accessor: 'actions'\n              }],\n              data: data\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                marginTop: '20px'\n              },\n              children: [excel && /*#__PURE__*/_jsxDEV(ExcelFile, {\n                element: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  children: \"Exportar Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 30\n                }, _this),\n                filename: \"perfiles\",\n                hideElement: true,\n                children: /*#__PURE__*/_jsxDEV(ExcelFile.ExcelSheet, {\n                  data: data,\n                  name: \"Perfiles\",\n                  children: [/*#__PURE__*/_jsxDEV(ExcelFile.ExcelColumn, {\n                    label: \"Codigo de Perfil\",\n                    value: \"codigo_perfil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(ExcelFile.ExcelColumn, {\n                    label: \"Descripcion\",\n                    value: \"descripcion_perfil\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                onClick: function onClick() {\n                  return setDownloadExcel(true);\n                },\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Exportar EXCEL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                onClick: function onClick() {\n                  return setDownloadPdf(true);\n                },\n                style: {\n                  marginLeft: '10px'\n                },\n                children: \"Exportar PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, _this), errorProfileList && /*#__PURE__*/_jsxDEV(GridContainer, {\n            children: /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n                message: errorProfileList,\n                color: \"danger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, _this), activeModal && /*#__PURE__*/_jsxDEV(ActiveAndDesactiveProfileModal, {\n      activeModal: activeModal,\n      closeActiveModal: closeActiveModal,\n      info: showActiveInfo,\n      active: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }, _this), desactiveModal && /*#__PURE__*/_jsxDEV(ActiveAndDesactiveProfileModal, {\n      activeModal: desactiveModal,\n      closeActiveModal: closeDesactiveModal,\n      info: showDesactiveInfo,\n      active: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }, _this), updateProfileModal && /*#__PURE__*/_jsxDEV(UpdateProfileModal, {\n      handleCloseModal: handleCloseModal,\n      updateProfileModal: updateProfileModal,\n      showUpdateProfile: showUpdateProfile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, _this), viewInfoModal && /*#__PURE__*/_jsxDEV(ViewProfileInfoModal, {\n      viewInfo: viewInfoModal,\n      closeViewInfoModal: closeViewInfoModal,\n      info: showViewInfoModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }, _this), deleteProfileModal && /*#__PURE__*/_jsxDEV(DeleteProfileModal, {\n      handleCloseDeleteProfileModal: handleCloseDeleteProfileModal,\n      deleteProfileModal: deleteProfileModal,\n      showDeleteProfileInfo: showDeleteProfileInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }, _this), downloadExcel && /*#__PURE__*/_jsxDEV(DownloadConfirmModal, {\n      downloadFile: downloadExcel,\n      setDownloadFile: setDownloadExcel,\n      setFile: setExcel,\n      tableName: \"Perfiles\",\n      FileExtension: \"Excel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }, _this), downloadPdf && /*#__PURE__*/_jsxDEV(DownloadConfirmModal, {\n      downloadFile: downloadPdf,\n      setDownloadFile: setDownloadPdf,\n      setFile: setPdf,\n      tableName: \"Perfiles\",\n      FileExtension: \"PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(ProfileListScreen, \"X3top7k9yljs7nEZ9m5LR1N75tU=\", false, function () {\n  return [useDispatch, useStyles, useSelector];\n});\n\n_c = ProfileListScreen;\nexport default ProfileListScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileListScreen\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/src/screens/control-panel/Catalog/Profile/ProfileListScreen/ProfileListScreen.js"],"names":["useState","useEffect","useDispatch","useSelector","makeStyles","Tooltip","ReactExport","jsPDF","Visibility","Delete","Lightbulb","LightbulbOutlined","Edit","ReactTable","GridContainer","Card","Button","GridItem","CardBody","SnackbarContent","DeleteProfileModal","UpdateProfileModal","DownloadConfirmModal","ActiveAndDesactiveProfileModal","ViewProfileInfoModal","PROFILE_LIST_RESET","getProfiles","styles","useStyles","ProfileListScreen","dispatch","ExcelFile","classes","data","setData","updateProfileModal","setUpdateProfileModal","deleteProfileModal","setDeleteProfileModal","desactiveModal","setDesactiveModal","downloadExcel","setDownloadExcel","downloadPdf","setDownloadPdf","activeModal","setActiveModal","excel","setExcel","pdf","setPdf","showActiveInfo","setShowActiveInfo","showDesactiveInfo","setShowDesactiveInfo","showUpdateProfile","setShowUpdateProfile","showDeleteProfileInfo","setShowDeleteProfileInfo","viewInfoModal","setViewInfoModal","showViewInfoModal","setShowViewInfoModal","state","profileList","loadingProfileList","profiles","successProfileList","errorProfileList","list","map","profile","descripcion_perfil","actions","handlerActiveAndDesactive","activo","showUpdateProfileHandler","id_perfil","showViewInfoHandler","showDeleteProfileHandler","type","exportPDF","showDesactiveUserHandler","showActiveUserHandler","id","find","closeActiveModal","perfil","closeDesactiveModal","handleCloseModal","el","handleCloseDeleteProfileModal","closeViewInfoModal","doc","text","autoTable","body","columns","header","dataKey","save","rootItem","Header","accessor","display","justifyContent","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport ReactExport from 'react-data-export'\r\nimport jsPDF from 'jspdf'\r\nimport 'jspdf-autotable'\r\nimport { Visibility, Delete, Lightbulb, LightbulbOutlined, Edit } from '@mui/icons-material'\r\nimport ReactTable from 'components/ReactTable/ReactTable'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport Card from 'components/Card/Card'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport DeleteProfileModal from './components/DeleteModal/DeleteProfileModal'\r\nimport UpdateProfileModal from './components/UpdateProfileModal'\r\nimport DownloadConfirmModal from 'components/DownloadConfirmModal/DownloadConfirmModal'\r\nimport ActiveAndDesactiveProfileModal from './components/ActiveAndDesactiveModal/ActiveAndDesactiveProfileModal'\r\nimport ViewProfileInfoModal from './components/ViewInfoModal/ViewProfileInfoModal'\r\nimport { PROFILE_LIST_RESET } from 'redux/constants/profileConstants'\r\nimport { getProfiles } from 'redux/actions/profileActions'\r\nimport styles from './styles/profileListScreenStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ProfileListScreen = () => {\r\n  const dispatch = useDispatch()\r\n  const ExcelFile = ReactExport.ExcelFile\r\n  const classes = useStyles()\r\n\r\n  const [data, setData] = useState([])\r\n  const [updateProfileModal, setUpdateProfileModal] = useState(false)\r\n  const [deleteProfileModal, setDeleteProfileModal] = useState(false)\r\n  const [desactiveModal, setDesactiveModal] = useState(false)\r\n  const [downloadExcel, setDownloadExcel] = useState(false)\r\n  const [downloadPdf, setDownloadPdf] = useState(false)\r\n  const [activeModal, setActiveModal] = useState(false)\r\n  const [excel, setExcel] = useState(false)\r\n  const [pdf, setPdf] = useState(false)\r\n  const [showActiveInfo, setShowActiveInfo] = useState({})\r\n  const [showDesactiveInfo, setShowDesactiveInfo] = useState({})\r\n  const [showUpdateProfile, setShowUpdateProfile] = useState({})\r\n  const [showDeleteProfileInfo, setShowDeleteProfileInfo] = useState({})\r\n  const [viewInfoModal, setViewInfoModal] = useState(false)\r\n  const [showViewInfoModal, setShowViewInfoModal] = useState({})\r\n\r\n  const { loadingProfileList, profiles, successProfileList, errorProfileList } = useSelector(\r\n    (state) => state.profileList\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (successProfileList) {\r\n      const list = profiles.map((profile) => {\r\n        return {\r\n          ...profile,\r\n          descripcion_perfil: `${profile.descripcion_perfil || '-'}`,\r\n          actions: (\r\n            <div className='actions-right'>\r\n              <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => handlerActiveAndDesactive(profile)}\r\n                color='warning'\r\n                className='active-deactive'\r\n              >\r\n                <Tooltip title='activar/desactivar'>\r\n                  {profile.activo === 'SI' ? <Lightbulb /> : <LightbulbOutlined />}\r\n                </Tooltip>\r\n              </Button>\r\n              <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => showUpdateProfileHandler(profile.id_perfil)}\r\n                color='primary'\r\n                className='active-deactive'\r\n              >\r\n                <Tooltip title='Editar Información'>\r\n                  <Edit />\r\n                </Tooltip>\r\n              </Button>\r\n              <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => showViewInfoHandler(profile.id_perfil)}\r\n                color='success'\r\n                className='edit'\r\n              >\r\n                <Tooltip title='Ver Información'>\r\n                  <Visibility />\r\n                </Tooltip>\r\n              </Button>\r\n              <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => showDeleteProfileHandler(profile.id_perfil)}\r\n                color='danger'\r\n                className='delete'\r\n              >\r\n                <Tooltip title='Borrar'>\r\n                  <Delete />\r\n                </Tooltip>\r\n              </Button>\r\n            </div>\r\n          ),\r\n        }\r\n      })\r\n      setData(list)\r\n    } else {\r\n      dispatch(getProfiles())\r\n    }\r\n  }, [successProfileList, dispatch])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: PROFILE_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (pdf) {\r\n      exportPDF()\r\n    }\r\n  }, [pdf])\r\n\r\n  const handlerActiveAndDesactive = (profile) => {\r\n    if (profile.activo === 'SI') {\r\n      showDesactiveUserHandler(profile.id_perfil)\r\n      return\r\n    }\r\n    showActiveUserHandler(profile.id_perfil)\r\n  }\r\n\r\n  const showActiveUserHandler = (id) => {\r\n    const profile = profiles.find((profile) => profile.id_perfil === id)\r\n    setShowActiveInfo(profile)\r\n    setActiveModal(true)\r\n  }\r\n\r\n  const closeActiveModal = () => {\r\n    setActiveModal(false)\r\n    setShowActiveInfo({})\r\n  }\r\n  const showDesactiveUserHandler = (id) => {\r\n    const perfil = profiles.find((perfil) => perfil.id_perfil === id)\r\n    setShowDesactiveInfo(perfil)\r\n    setDesactiveModal(true)\r\n  }\r\n\r\n  const closeDesactiveModal = () => {\r\n    setDesactiveModal(false)\r\n    setShowDesactiveInfo({})\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setUpdateProfileModal(false)\r\n    setShowUpdateProfile({})\r\n  }\r\n  const showUpdateProfileHandler = (id) => {\r\n    const profile = profiles.find((el) => el.id_perfil === id)\r\n    setShowUpdateProfile(profile)\r\n    setUpdateProfileModal(true)\r\n  }\r\n\r\n  const showDeleteProfileHandler = (id) => {\r\n    const profile = profiles.find((el) => el.id_perfil === id)\r\n    setShowDeleteProfileInfo(profile)\r\n    setDeleteProfileModal(true)\r\n  }\r\n\r\n  const handleCloseDeleteProfileModal = () => {\r\n    setDeleteProfileModal(false)\r\n    setShowDeleteProfileInfo({})\r\n  }\r\n\r\n  const showViewInfoHandler = (id) => {\r\n    const profile = profiles.find((profile) => profile.id_perfil === id)\r\n    setShowViewInfoModal(profile)\r\n    setViewInfoModal(true)\r\n  }\r\n\r\n  const closeViewInfoModal = () => {\r\n    setViewInfoModal(false)\r\n    setShowViewInfoModal({})\r\n  }\r\n\r\n  const exportPDF = () => {\r\n    const doc = new jsPDF()\r\n    doc.text('Perfiles', 20, 10)\r\n    doc.autoTable({\r\n      body: data,\r\n      columns: [\r\n        { header: 'Codigo de Perfil', dataKey: 'codigo_perfil' },\r\n        { header: 'Descripcion', dataKey: 'descripcion_perfil' },\r\n      ],\r\n    })\r\n    doc.save('perfiles.pdf')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <GridContainer>\r\n        <GridItem xs={12} className={classes.rootItem}>\r\n          <Card>\r\n            <CardBody>\r\n              {loadingProfileList ? (\r\n                'Cargando Perfiles...'\r\n              ) : (\r\n                <ReactTable\r\n                  columns={[\r\n                    {\r\n                      Header: 'COD.DE PERFIL',\r\n                      accessor: 'codigo_perfil',\r\n                    },\r\n                    {\r\n                      Header: 'DESC.DE PERFIL',\r\n                      accessor: 'descripcion_perfil',\r\n                    },\r\n                    {\r\n                      Header: 'DESC.DE SUBDIRECCIÓN',\r\n                      accessor: 'descripcion_subdireccion',\r\n                    },\r\n                    {\r\n                      Header: 'DESC.DE SERVICIO',\r\n                      accessor: 'descripcion_servicio',\r\n                    },\r\n                    {\r\n                      Header: 'DESC.DE DEPARTAMENTO',\r\n                      accessor: 'descripcion_departamento',\r\n                    },\r\n                    {\r\n                      Header: 'DESC.DE UNIDAD',\r\n                      accessor: 'descripcion_unidad',\r\n                    },\r\n                    {\r\n                      Header: 'DESC.DE ROL',\r\n                      accessor: 'descripcion_rol',\r\n                    },\r\n                    {\r\n                      Header: 'ACCIONES',\r\n                      accessor: 'actions',\r\n                    },\r\n                  ]}\r\n                  data={data}\r\n                />\r\n              )}\r\n              <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '20px' }}>\r\n                {excel && (\r\n                  <ExcelFile\r\n                    element={<Button color='primary'>Exportar Excel</Button>}\r\n                    filename='perfiles'\r\n                    hideElement={true}\r\n                  >\r\n                    <ExcelFile.ExcelSheet data={data} name='Perfiles'>\r\n                      <ExcelFile.ExcelColumn label='Codigo de Perfil' value='codigo_perfil' />\r\n                      <ExcelFile.ExcelColumn label='Descripcion' value='descripcion_perfil' />\r\n                    </ExcelFile.ExcelSheet>\r\n                  </ExcelFile>\r\n                )}\r\n                <Button color='primary' onClick={() => setDownloadExcel(true)} style={{ marginLeft: '10px' }}>\r\n                  Exportar EXCEL\r\n                </Button>\r\n                <Button color='primary' onClick={() => setDownloadPdf(true)} style={{ marginLeft: '10px' }}>\r\n                  Exportar PDF\r\n                </Button>\r\n              </div>\r\n            </CardBody>\r\n            {errorProfileList && (\r\n              <GridContainer>\r\n                <GridItem xs={12}>\r\n                  <SnackbarContent message={errorProfileList} color='danger' />\r\n                </GridItem>\r\n              </GridContainer>\r\n            )}\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n      {activeModal && (\r\n        <ActiveAndDesactiveProfileModal\r\n          activeModal={activeModal}\r\n          closeActiveModal={closeActiveModal}\r\n          info={showActiveInfo}\r\n          active={true}\r\n        />\r\n      )}\r\n      {desactiveModal && (\r\n        <ActiveAndDesactiveProfileModal\r\n          activeModal={desactiveModal}\r\n          closeActiveModal={closeDesactiveModal}\r\n          info={showDesactiveInfo}\r\n          active={false}\r\n        />\r\n      )}\r\n      {updateProfileModal && (\r\n        <UpdateProfileModal\r\n          handleCloseModal={handleCloseModal}\r\n          updateProfileModal={updateProfileModal}\r\n          showUpdateProfile={showUpdateProfile}\r\n        />\r\n      )}\r\n      {viewInfoModal && (\r\n        <ViewProfileInfoModal\r\n          viewInfo={viewInfoModal}\r\n          closeViewInfoModal={closeViewInfoModal}\r\n          info={showViewInfoModal}\r\n        />\r\n      )}\r\n      {deleteProfileModal && (\r\n        <DeleteProfileModal\r\n          handleCloseDeleteProfileModal={handleCloseDeleteProfileModal}\r\n          deleteProfileModal={deleteProfileModal}\r\n          showDeleteProfileInfo={showDeleteProfileInfo}\r\n        />\r\n      )}\r\n      {downloadExcel && (\r\n        <DownloadConfirmModal\r\n          downloadFile={downloadExcel}\r\n          setDownloadFile={setDownloadExcel}\r\n          setFile={setExcel}\r\n          tableName='Perfiles'\r\n          FileExtension='Excel'\r\n        />\r\n      )}\r\n      {downloadPdf && (\r\n        <DownloadConfirmModal\r\n          downloadFile={downloadPdf}\r\n          setDownloadFile={setDownloadPdf}\r\n          setFile={setPdf}\r\n          tableName='Perfiles'\r\n          FileExtension='PDF'\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileListScreen\r\n"]},"metadata":{},"sourceType":"module"}