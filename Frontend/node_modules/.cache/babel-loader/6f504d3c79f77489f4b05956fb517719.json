{"ast":null,"code":"import _objectSpread from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\PruebaDespliegueAzure\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\UserProfileScreen\\\\UserProfileScreen.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core';\nimport GridContainer from 'components/Grid/GridContainer';\nimport GridItem from 'components/Grid/GridItem';\nimport Button from 'components/CustomButtons/Button';\nimport Clearfix from 'components/Clearfix/Clearfix';\nimport Card from 'components/Card/Card';\nimport CardBody from 'components/Card/CardBody';\nimport CardAvatar from 'components/Card/CardAvatar';\nimport UserProfileInputs from './components/UserProfileInputs';\nimport { getProfileInfo } from 'redux/actions/userActions';\nimport { getCurrentEvaluacion } from 'redux/actions/evaluacionActions';\nimport styles from 'assets/jss/material-ui-react/views/userProfileStyles';\nimport { EVALUACION_CURRENT_RESET } from 'redux/constants/evaluacionConstants';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar UserProfileScreen = function UserProfileScreen(_ref) {\n  _s();\n\n  var _userInfo$permiso;\n\n  var history = _ref.history;\n  var dispatch = useDispatch();\n  var classes = useStyles();\n\n  var _useSelector = useSelector(function (state) {\n    return state.userLogin;\n  }),\n      userInfo = _useSelector.userInfo;\n\n  var _useState = useState(userInfo),\n      _useState2 = _slicedToArray(_useState, 2),\n      userInformation = _useState2[0],\n      setUserInfo = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      favoriteTasks = _useState4[0],\n      setFavoriteTasks = _useState4[1];\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.userProfileInfo;\n  }),\n      loadingUserProfileInfo = _useSelector2.loadingUserProfileInfo,\n      profileInfo = _useSelector2.profileInfo;\n\n  var _useSelector3 = useSelector(function (state) {\n    return state.evaluacionCurrent;\n  }),\n      successEvaluacionCurrent = _useSelector3.successEvaluacionCurrent,\n      evaluacionCurrentData = _useSelector3.evaluacionCurrentData;\n\n  useEffect(function () {\n    if (!userInfo) {\n      history.push('/');\n    }\n  }, [userInfo]);\n  useEffect(function () {\n    dispatch(getProfileInfo());\n    dispatch(getCurrentEvaluacion(true));\n  }, [dispatch]);\n  useEffect(function () {\n    if (profileInfo) {\n      setUserInfo(_objectSpread(_objectSpread({}, userInformation), {}, {\n        profileInfo: profileInfo\n      }));\n    }\n  }, [profileInfo]);\n\n  var handleVerEvaluacion = function handleVerEvaluacion(e) {\n    dispatch({\n      type: EVALUACION_CURRENT_RESET\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loadingUserProfileInfo ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"Cargando informaci\\xF3n del usuario\"\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(GridContainer, {\n        children: [/*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 12,\n          sm: 6,\n          style: {\n            margin: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            profile: true,\n            children: [/*#__PURE__*/_jsxDEV(CardAvatar, {\n              profile: true,\n              round: true,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#user\",\n                onClick: function onClick(e) {\n                  return e.preventDefault();\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"\".concat(axios.defaults.baseURL, \"/public/assets/img/avatars/avatar.jpg\"),\n                  alt: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CardBody, {\n              profile: true,\n              children: [userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$permiso = userInfo.permiso) === null || _userInfo$permiso === void 0 ? void 0 : _userInfo$permiso.map(function (p) {\n                return /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"\".concat(p)\n                }, p, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 21\n                }, _this);\n              }), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: classes.cardTitle,\n                children: [userInfo === null || userInfo === void 0 ? void 0 : userInfo.nombre, \" \", userInfo === null || userInfo === void 0 ? void 0 : userInfo.apellido1, \" \", (userInfo === null || userInfo === void 0 ? void 0 : userInfo.apellido2) || '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: classes.description,\n                children: [\"Codigo AYRE \\xB7 \", userInfo === null || userInfo === void 0 ? void 0 : userInfo.cod_ayre]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: classes.description,\n                children: [\"Puesto \\xB7 \", (userInfo === null || userInfo === void 0 ? void 0 : userInfo.denominacion_puesto) || 'Sin Denominación']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 12,\n          md: 10,\n          style: {\n            margin: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardBody, {\n              children: [/*#__PURE__*/_jsxDEV(GridContainer, {\n                children: /*#__PURE__*/_jsxDEV(UserProfileInputs, {\n                  setUserInfo: setUserInfo,\n                  userInformation: userInformation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(GridContainer, {\n                children: [/*#__PURE__*/_jsxDEV(GridItem, {\n                  xs: 12,\n                  md: 4,\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: '/admin/assignFavorites',\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"primary\",\n                      children: \"Asignar Tareas Favoritas\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 21\n                }, _this), userInformation.ver_objetivos == 'SI' && /*#__PURE__*/_jsxDEV(GridItem, {\n                  xs: 12,\n                  md: 4,\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: '/admin/viewObjectives',\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"primary\",\n                      children: \"Ver objetivos de desempe\\xF1o\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 23\n                }, _this), userInformation.ver_objetivos == 'SI' && successEvaluacionCurrent && evaluacionCurrentData.tiene_actual && /*#__PURE__*/_jsxDEV(GridItem, {\n                  xs: 12,\n                  md: 4,\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(NavLink, {\n                    to: '/admin/viewLevelWork',\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"primary\",\n                      onClick: handleVerEvaluacion,\n                      children: \"Ver desempe\\xF1o\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(Clearfix, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(UserProfileScreen, \"GOKtZkPXOA0fZDTc3xxqUk8Ckgw=\", false, function () {\n  return [useDispatch, useStyles, useSelector, useSelector, useSelector];\n});\n\n_c = UserProfileScreen;\nexport default UserProfileScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfileScreen\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/src/screens/control-panel/UserProfileScreen/UserProfileScreen.js"],"names":["useEffect","useState","useDispatch","useSelector","NavLink","axios","makeStyles","GridContainer","GridItem","Button","Clearfix","Card","CardBody","CardAvatar","UserProfileInputs","getProfileInfo","getCurrentEvaluacion","styles","EVALUACION_CURRENT_RESET","useStyles","UserProfileScreen","history","dispatch","classes","state","userLogin","userInfo","userInformation","setUserInfo","favoriteTasks","setFavoriteTasks","userProfileInfo","loadingUserProfileInfo","profileInfo","evaluacionCurrent","successEvaluacionCurrent","evaluacionCurrentData","push","handleVerEvaluacion","e","type","margin","preventDefault","defaults","baseURL","permiso","map","p","cardTitle","nombre","apellido1","apellido2","description","cod_ayre","denominacion_puesto","textAlign","ver_objetivos","tiene_actual"],"mappings":";;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,SAASC,oBAAT,QAAqC,iCAArC;AACA,OAAOC,MAAP,MAAmB,sDAAnB;AACA,SAASC,wBAAT,QAAyC,qCAAzC;;;AAEA,IAAMC,SAAS,GAAGb,UAAU,CAACW,MAAD,CAA5B;;AAEA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,OAAiB;AAAA;;AAAA;;AAAA,MAAdC,OAAc,QAAdA,OAAc;AACzC,MAAMC,QAAQ,GAAGpB,WAAW,EAA5B;AACA,MAAMqB,OAAO,GAAGJ,SAAS,EAAzB;;AAEA,qBAAqBhB,WAAW,CAAC,UAACqB,KAAD;AAAA,WAAWA,KAAK,CAACC,SAAjB;AAAA,GAAD,CAAhC;AAAA,MAAQC,QAAR,gBAAQA,QAAR;;AACA,kBAAuCzB,QAAQ,CAACyB,QAAD,CAA/C;AAAA;AAAA,MAAOC,eAAP;AAAA,MAAwBC,WAAxB;;AACA,mBAA0C3B,QAAQ,CAAC,KAAD,CAAlD;AAAA;AAAA,MAAO4B,aAAP;AAAA,MAAsBC,gBAAtB;;AAEA,sBAAgD3B,WAAW,CAAC,UAACqB,KAAD;AAAA,WAAWA,KAAK,CAACO,eAAjB;AAAA,GAAD,CAA3D;AAAA,MAAQC,sBAAR,iBAAQA,sBAAR;AAAA,MAAgCC,WAAhC,iBAAgCA,WAAhC;;AACA,sBAGI9B,WAAW,CAAC,UAACqB,KAAD;AAAA,WAAWA,KAAK,CAACU,iBAAjB;AAAA,GAAD,CAHf;AAAA,MACEC,wBADF,iBACEA,wBADF;AAAA,MAEEC,qBAFF,iBAEEA,qBAFF;;AAKApC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAAC0B,QAAL,EAAe;AACbL,MAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;AACD;AACF,GAJQ,EAIN,CAACX,QAAD,CAJM,CAAT;AAMA1B,EAAAA,SAAS,CAAC,YAAM;AACdsB,IAAAA,QAAQ,CAACP,cAAc,EAAf,CAAR;AACAO,IAAAA,QAAQ,CAACN,oBAAoB,CAAC,IAAD,CAArB,CAAR;AACD,GAHQ,EAGN,CAACM,QAAD,CAHM,CAAT;AAKAtB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIiC,WAAJ,EAAiB;AACfL,MAAAA,WAAW,iCAAMD,eAAN;AAAuBM,QAAAA,WAAW,EAAXA;AAAvB,SAAX;AACD;AACF,GAJQ,EAIN,CAACA,WAAD,CAJM,CAAT;;AAMA,MAAMK,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,CAAD,EAAO;AAChCjB,IAAAA,QAAQ,CAAC;AAAEkB,MAAAA,IAAI,EAAEtB;AAAR,KAAD,CAAR;AACF,GAFD;;AAIA,sBACE;AAAA,cACGc,sBAAsB,gBACrB;AAAA;AAAA,qBADqB,gBAGrB;AAAA,6BACE,QAAC,aAAD;AAAA,gCACE,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,EAAd;AAAkB,UAAA,EAAE,EAAE,CAAtB;AAAyB,UAAA,KAAK,EAAE;AAAES,YAAAA,MAAM,EAAE;AAAV,WAAhC;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,OAAO,MAAb;AAAA,oCACE,QAAC,UAAD;AAAY,cAAA,OAAO,MAAnB;AAAoB,cAAA,KAAK,EAAE,IAA3B;AAAA,qCACE;AAAG,gBAAA,IAAI,EAAC,OAAR;AAAgB,gBAAA,OAAO,EAAE,iBAACF,CAAD;AAAA,yBAAOA,CAAC,CAACG,cAAF,EAAP;AAAA,iBAAzB;AAAA,uCACE;AAAK,kBAAA,GAAG,YAAKrC,KAAK,CAACsC,QAAN,CAAeC,OAApB,0CAAR;AAA4E,kBAAA,GAAG,EAAC;AAAhF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,qBADF,eAME,QAAC,QAAD;AAAU,cAAA,OAAO,MAAjB;AAAA,yBACGlB,QADH,aACGA,QADH,4CACGA,QAAQ,CAAEmB,OADb,sDACG,kBAAmBC,GAAnB,CAAuB,UAACC,CAAD;AAAA,oCACtB;AAAA,sCAAgBA,CAAhB;AAAA,mBAASA,CAAT;AAAA;AAAA;AAAA;AAAA,yBADsB;AAAA,eAAvB,CADH,eAKE;AAAI,gBAAA,SAAS,EAAExB,OAAO,CAACyB,SAAvB;AAAA,2BACGtB,QADH,aACGA,QADH,uBACGA,QAAQ,CAAEuB,MADb,OACsBvB,QADtB,aACsBA,QADtB,uBACsBA,QAAQ,CAAEwB,SADhC,OAC4C,CAAAxB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEyB,SAAV,KAAuB,EADnE;AAAA;AAAA;AAAA;AAAA;AAAA,uBALF,eAQE;AAAG,gBAAA,SAAS,EAAE5B,OAAO,CAAC6B,WAAtB;AAAA,gDAAkD1B,QAAlD,aAAkDA,QAAlD,uBAAkDA,QAAQ,CAAE2B,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA,uBARF,eASE;AAAG,gBAAA,SAAS,EAAE9B,OAAO,CAAC6B,WAAtB;AAAA,2CAA6C,CAAA1B,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAE4B,mBAAV,KAAiC,kBAA9E;AAAA;AAAA;AAAA;AAAA;AAAA,uBATF;AAAA;AAAA;AAAA;AAAA;AAAA,qBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBADF,eAqBE,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,EAAd;AAAkB,UAAA,EAAE,EAAE,EAAtB;AAA0B,UAAA,KAAK,EAAE;AAAEb,YAAAA,MAAM,EAAE;AAAV,WAAjC;AAAA,iCACE,QAAC,IAAD;AAAA,mCACE,QAAC,QAAD;AAAA,sCACE,QAAC,aAAD;AAAA,uCACE,QAAC,iBAAD;AAAmB,kBAAA,WAAW,EAAEb,WAAhC;AAA6C,kBAAA,eAAe,EAAED;AAA9D;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,uBADF,eAIE,QAAC,aAAD;AAAA,wCACE,QAAC,QAAD;AAAU,kBAAA,EAAE,EAAE,EAAd;AAAkB,kBAAA,EAAE,EAAE,CAAtB;AAAyB,kBAAA,KAAK,EAAE;AAAC4B,oBAAAA,SAAS,EAAE;AAAZ,mBAAhC;AAAA,yCACE,QAAC,OAAD;AAAS,oBAAA,EAAE,EAAE,wBAAb;AAAA,2CACE,QAAC,MAAD;AAAQ,sBAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,yBADF,EAQG5B,eAAe,CAAC6B,aAAhB,IAAiC,IAAjC,iBACC,QAAC,QAAD;AAAU,kBAAA,EAAE,EAAE,EAAd;AAAkB,kBAAA,EAAE,EAAE,CAAtB;AAAyB,kBAAA,KAAK,EAAE;AAACD,oBAAAA,SAAS,EAAE;AAAZ,mBAAhC;AAAA,yCACE,QAAC,OAAD;AAAS,oBAAA,EAAE,EAAE,uBAAb;AAAA,2CACE,QAAC,MAAD;AAAQ,sBAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,yBATJ,EAiBG5B,eAAe,CAAC6B,aAAhB,IAAiC,IAAjC,IAAyCrB,wBAAzC,IACDC,qBAAqB,CAACqB,YADrB,iBAGC,QAAC,QAAD;AAAU,kBAAA,EAAE,EAAE,EAAd;AAAkB,kBAAA,EAAE,EAAE,CAAtB;AAAyB,kBAAA,KAAK,EAAE;AAACF,oBAAAA,SAAS,EAAE;AAAZ,mBAAhC;AAAA,yCACE,QAAC,OAAD;AAAS,oBAAA,EAAE,EAAE,sBAAb;AAAA,2CACE,QAAC,MAAD;AAAQ,sBAAA,KAAK,EAAC,SAAd;AAAwB,sBAAA,OAAO,EAAEjB,mBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,yBApBJ;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJF,eAkCE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,uBAlCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBArBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAJJ;AAAA;AAAA;AAAA;AAAA,WADF;AAwED,CA3GD;;GAAMlB,iB;UACalB,W,EACDiB,S,EAEKhB,W,EAI2BA,W,EAI5CA,W;;;KAZAiB,iB;AA6GN,eAAeA,iBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport Clearfix from 'components/Clearfix/Clearfix'\r\nimport Card from 'components/Card/Card'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport CardAvatar from 'components/Card/CardAvatar'\r\nimport UserProfileInputs from './components/UserProfileInputs'\r\nimport { getProfileInfo } from 'redux/actions/userActions'\r\nimport { getCurrentEvaluacion } from 'redux/actions/evaluacionActions'\r\nimport styles from 'assets/jss/material-ui-react/views/userProfileStyles'\r\nimport { EVALUACION_CURRENT_RESET } from 'redux/constants/evaluacionConstants'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst UserProfileScreen = ({ history }) => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n\r\n  const { userInfo } = useSelector((state) => state.userLogin)\r\n  const [userInformation, setUserInfo] = useState(userInfo)\r\n  const [favoriteTasks, setFavoriteTasks] = useState(false)\r\n\r\n  const { loadingUserProfileInfo, profileInfo } = useSelector((state) => state.userProfileInfo)\r\n  const {\r\n    successEvaluacionCurrent,\r\n    evaluacionCurrentData,\r\n  } = useSelector((state) => state.evaluacionCurrent)\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      history.push('/')\r\n    }\r\n  }, [userInfo])\r\n\r\n  useEffect(() => {\r\n    dispatch(getProfileInfo())\r\n    dispatch(getCurrentEvaluacion(true))\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (profileInfo) {\r\n      setUserInfo({ ...userInformation, profileInfo })\r\n    }\r\n  }, [profileInfo])\r\n\r\n  const handleVerEvaluacion = (e) => {\r\n     dispatch({ type: EVALUACION_CURRENT_RESET })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {loadingUserProfileInfo ? (\r\n        <>Cargando información del usuario</>\r\n      ) : (\r\n        <>\r\n          <GridContainer>\r\n            <GridItem xs={12} sm={6} style={{ margin: 'auto' }}>\r\n              <Card profile>\r\n                <CardAvatar profile round={true}>\r\n                  <a href='#user' onClick={(e) => e.preventDefault()}>\r\n                    <img src={`${axios.defaults.baseURL}/public/assets/img/avatars/avatar.jpg`} alt='...' />\r\n                  </a>\r\n                </CardAvatar>\r\n                <CardBody profile>\r\n                  {userInfo?.permiso?.map((p) => (\r\n                    <h6 key={p}>{`${p}`}</h6>\r\n                  ))}\r\n\r\n                  <h4 className={classes.cardTitle}>\r\n                    {userInfo?.nombre} {userInfo?.apellido1} {userInfo?.apellido2 || ''}\r\n                  </h4>\r\n                  <p className={classes.description}>Codigo AYRE · {userInfo?.cod_ayre}</p>\r\n                  <p className={classes.description}>Puesto · {userInfo?.denominacion_puesto || 'Sin Denominación'}</p>\r\n                </CardBody>\r\n              </Card>\r\n            </GridItem>\r\n            <GridItem xs={12} md={10} style={{ margin: 'auto' }}>\r\n              <Card>\r\n                <CardBody>\r\n                  <GridContainer>\r\n                    <UserProfileInputs setUserInfo={setUserInfo} userInformation={userInformation} />\r\n                  </GridContainer>\r\n                  <GridContainer>\r\n                    <GridItem xs={12} md={4} style={{textAlign: \"center\"}}>\r\n                      <NavLink to={'/admin/assignFavorites'} >\r\n                        <Button color='primary' >\r\n                          Asignar Tareas Favoritas\r\n                        </Button>\r\n                      </NavLink>\r\n                    </GridItem>\r\n                    {userInformation.ver_objetivos == 'SI' && (\r\n                      <GridItem xs={12} md={4} style={{textAlign: \"center\"}}>\r\n                        <NavLink to={'/admin/viewObjectives'} >\r\n                          <Button color='primary'>\r\n                            Ver objetivos de desempeño\r\n                          </Button>\r\n                        </NavLink>\r\n                      </GridItem>\r\n                    )}\r\n                    {userInformation.ver_objetivos == 'SI' && successEvaluacionCurrent && \r\n                    evaluacionCurrentData.tiene_actual &&\r\n                    (\r\n                      <GridItem xs={12} md={4} style={{textAlign: \"center\"}}>\r\n                        <NavLink to={'/admin/viewLevelWork'} >\r\n                          <Button color='primary' onClick={handleVerEvaluacion}>\r\n                            Ver desempeño\r\n                          </Button>\r\n                        </NavLink>\r\n                      </GridItem>\r\n                    )}\r\n                    \r\n                  </GridContainer>\r\n                  <Clearfix />\r\n                </CardBody>\r\n              </Card>\r\n            </GridItem>\r\n          </GridContainer>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfileScreen\r\n"]},"metadata":{},"sourceType":"module"}