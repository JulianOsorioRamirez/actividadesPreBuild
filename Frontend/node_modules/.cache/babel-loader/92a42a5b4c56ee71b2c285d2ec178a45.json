{"ast":null,"code":"import _defineProperty from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\Frontend\\\\src\\\\components\\\\Modal\\\\ObjectivesModals\\\\UpdateObjectiveModal.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { InputLabel, makeStyles, MenuItem, Select as Selectable, Typography } from '@material-ui/core';\nimport GridContainer from 'components/Grid/GridContainer';\nimport GridItem from 'components/Grid/GridItem';\nimport UpdateActionModal from 'components/ReactTableActions/Update/UpdateActionModal';\nimport CustomInput from 'components/CustomInput/CustomInput';\nimport ObjetiveDificultySelect from 'components/ObjetiveDificultySelect/ObjetiveDificultySelect';\nimport styles from '../styles/ObjectiveModalStyle';\nimport { objetiveAbsenceRegisterReducer } from 'redux/reducers/objetivesAbsencesReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar UpdateObjective = function UpdateObjective(_ref) {\n  _s();\n\n  var updateSuccess = _ref.updateSuccess,\n      updateError = _ref.updateError,\n      sendUpdateInfo = _ref.sendUpdateInfo,\n      closeUpdateActivityModal = _ref.closeUpdateActivityModal,\n      info = _ref.info;\n  var classes = useStyles();\n  var id_objetivo = info.id_objetivo,\n      id_tarea = info.id_tarea,\n      descripcion_tarea = info.descripcion_tarea,\n      tardif = info.tardif,\n      codigo_perfil = info.codigo_perfil,\n      dificultad = info.dificultad,\n      unidades_maximo = info.unidades_maximo,\n      unidades_medio = info.unidades_medio,\n      unidades_minimo = info.unidades_minimo,\n      porcentaje_entrada_minimo = info.porcentaje_entrada_minimo,\n      porcentaje_entrada_medio = info.porcentaje_entrada_medio,\n      porcentaje_entrada_maximo = info.porcentaje_entrada_maximo,\n      porcentaje_jornada_minimo = info.porcentaje_jornada_minimo,\n      porcentaje_jornada_medio = info.porcentaje_jornada_medio,\n      porcentaje_jornada_maximo = info.porcentaje_jornada_maximo,\n      tiempo_minimo = info.tiempo_minimo,\n      tiempo_medio = info.tiempo_medio,\n      tiempo_maximo = info.tiempo_maximo,\n      magnitud_temporal = info.magnitud_temporal,\n      nombre = info.nombre,\n      apellido1 = info.apellido1,\n      apellido2 = info.apellido2;\n  var initialState = {\n    id_objetivo: id_objetivo,\n    task: id_tarea,\n    tardif: tardif,\n    descripcion_tarea: descripcion_tarea,\n    codigo_perfil: codigo_perfil,\n    dificulty: dificultad,\n    unit_min: unidades_minimo,\n    unit_mid: unidades_medio,\n    unit_max: unidades_maximo,\n    entry_min: porcentaje_entrada_minimo,\n    entry_mid: porcentaje_entrada_medio,\n    entry_max: porcentaje_entrada_maximo,\n    time_min: tiempo_minimo,\n    time_mid: tiempo_medio,\n    time_max: tiempo_maximo,\n    magnitud_temporal: magnitud_temporal,\n    working_min: porcentaje_jornada_minimo,\n    working_mid: porcentaje_jornada_medio,\n    working_max: porcentaje_jornada_maximo,\n    nombre: nombre,\n    apellido1: apellido1,\n    apellido2: apellido2\n  };\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      objective = _useState2[0],\n      setObjective = _useState2[1];\n\n  useEffect(function () {\n    if (objective.unit_min || objective.unit_mid || objective.unit_max) {\n      if (!objective.magnitud_temporal || objective.magnitud_temporal == '') {\n        setObjective(_objectSpread(_objectSpread({}, objective), {}, {\n          magnitud_temporal: 'Dia'\n        }));\n      }\n    } else setObjective(_objectSpread(_objectSpread({}, objective), {}, {\n      magnitud_temporal: ''\n    }));\n  }, [objective.unit_min, objective.unit_mid, objective.unit_max]);\n\n  var handleInputs = function handleInputs(event, index) {\n    var _event$target = event.target,\n        value = _event$target.value,\n        id = _event$target.id;\n    var name = findResourceName(index, id);\n    setObjective(_objectSpread(_objectSpread({}, objective), {}, _defineProperty({}, name, value)));\n  };\n\n  var findResourceName = function findResourceName(index, id) {\n    var resourceName = \"\".concat(index <= 1 ? index === 0 ? 'unit' : 'entry' : index === 2 ? 'time' : 'working', \"_\").concat(id);\n    return resourceName;\n  };\n\n  var handleUpdate = function handleUpdate(e) {\n    e.preventDefault();\n    sendUpdateInfo(objective);\n    closeUpdateActivityModal();\n  };\n\n  return /*#__PURE__*/_jsxDEV(UpdateActionModal, {\n    handleCloseModal: closeUpdateActivityModal,\n    modalTitle: \"Editar Objetivo\",\n    open: true,\n    successUpdate: updateSuccess,\n    errorUpdate: updateError,\n    handleSubmit: handleUpdate,\n    children: /*#__PURE__*/_jsxDEV(GridContainer, {\n      children: [/*#__PURE__*/_jsxDEV(GridItem, {\n        xs: 12,\n        md: 12,\n        children: [codigo_perfil && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          gutterBottom: true,\n          children: [\"Perfil: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: codigo_perfil\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, _this), nombre && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          gutterBottom: true,\n          children: [\"Puesto: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [nombre, \" \", apellido1, \" \", apellido2]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          gutterBottom: true,\n          children: [\"Tarea: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: descripcion_tarea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 24\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n        xs: 12,\n        className: classes.selector,\n        children: [/*#__PURE__*/_jsxDEV(ObjetiveDificultySelect, {\n          disabled: (objective === null || objective === void 0 ? void 0 : objective.tardif) == 'NO',\n          dificultySelect: objective,\n          setDificultySelect: setObjective\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, _this), objective.magnitud_temporal && /*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 6,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Magnitud temporal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(Selectable, {\n            MenuProps: {\n              className: classes.selectMenu\n            },\n            className: classes.select,\n            value: objective.magnitud_temporal,\n            onChange: function onChange(e) {\n              return setObjective(_objectSpread(_objectSpread({}, objective), {}, {\n                magnitud_temporal: e.target.value\n              }));\n            },\n            inputProps: {\n              name: 'magnitud_temporal',\n              id: 'magnitud_temporal'\n            },\n            children: ['Dia', 'Semana', 'Mes'].map(function (time, index) {\n              return /*#__PURE__*/_jsxDEV(MenuItem, {\n                classes: {\n                  root: classes.selectMenuItem,\n                  selected: classes.selectMenuItemSelected\n                },\n                value: time,\n                children: time\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, _this), ['Unidades', '% con respecto a la entrada', 'Tiempo (min/ud)', '% con respecto a la jornada'].map(function (label, index) {\n        return /*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 12,\n          className: classes.sectionContainer,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: label,\n            className: classes.resourcesTitle,\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n            xs: 12,\n            className: classes.resourcesContainer,\n            children: [/*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                labelText: 'Mínimo',\n                id: \"min\",\n                formControlProps: {\n                  fullWidth: true\n                },\n                inputProps: {\n                  onChange: function onChange(e) {\n                    return handleInputs(e, index);\n                  },\n                  type: 'number',\n                  value: objective[findResourceName(index, 'min')]\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                labelText: 'Medio',\n                id: \"mid\",\n                formControlProps: {\n                  fullWidth: true\n                },\n                inputProps: {\n                  onChange: function onChange(e) {\n                    return handleInputs(e, index);\n                  },\n                  type: 'number',\n                  value: objective[findResourceName(index, 'mid')]\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                labelText: 'Máximo',\n                id: \"max\",\n                formControlProps: {\n                  fullWidth: true\n                },\n                inputProps: {\n                  onChange: function onChange(e) {\n                    return handleInputs(e, index);\n                  },\n                  type: 'number',\n                  value: objective[findResourceName(index, 'max')]\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, _this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(UpdateObjective, \"O8D9j+pOzE0OgXhLrWp/RjZ0va8=\", false, function () {\n  return [useStyles];\n});\n\n_c = UpdateObjective;\nexport default UpdateObjective;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateObjective\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/Frontend/src/components/Modal/ObjectivesModals/UpdateObjectiveModal.js"],"names":["useEffect","useState","InputLabel","makeStyles","MenuItem","Select","Selectable","Typography","GridContainer","GridItem","UpdateActionModal","CustomInput","ObjetiveDificultySelect","styles","objetiveAbsenceRegisterReducer","useStyles","UpdateObjective","updateSuccess","updateError","sendUpdateInfo","closeUpdateActivityModal","info","classes","id_objetivo","id_tarea","descripcion_tarea","tardif","codigo_perfil","dificultad","unidades_maximo","unidades_medio","unidades_minimo","porcentaje_entrada_minimo","porcentaje_entrada_medio","porcentaje_entrada_maximo","porcentaje_jornada_minimo","porcentaje_jornada_medio","porcentaje_jornada_maximo","tiempo_minimo","tiempo_medio","tiempo_maximo","magnitud_temporal","nombre","apellido1","apellido2","initialState","task","dificulty","unit_min","unit_mid","unit_max","entry_min","entry_mid","entry_max","time_min","time_mid","time_max","working_min","working_mid","working_max","objective","setObjective","handleInputs","event","index","target","value","id","name","findResourceName","resourceName","handleUpdate","e","preventDefault","selector","className","selectMenu","select","map","time","root","selectMenuItem","selected","selectMenuItemSelected","label","sectionContainer","resourcesTitle","resourcesContainer","fullWidth","onChange","type"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nimport { InputLabel, makeStyles, MenuItem, Select as Selectable, Typography } from '@material-ui/core'\r\n\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport UpdateActionModal from 'components/ReactTableActions/Update/UpdateActionModal'\r\nimport CustomInput from 'components/CustomInput/CustomInput'\r\nimport ObjetiveDificultySelect from 'components/ObjetiveDificultySelect/ObjetiveDificultySelect'\r\n\r\nimport styles from '../styles/ObjectiveModalStyle'\r\nimport { objetiveAbsenceRegisterReducer } from 'redux/reducers/objetivesAbsencesReducer'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst UpdateObjective = ({\r\n  updateSuccess,\r\n  updateError,\r\n  sendUpdateInfo,\r\n\r\n  closeUpdateActivityModal,\r\n  info,\r\n}) => {\r\n  const classes = useStyles()\r\n\r\n  const {\r\n    id_objetivo,\r\n    id_tarea,\r\n    descripcion_tarea,\r\n    tardif,\r\n    codigo_perfil,\r\n    dificultad,\r\n    unidades_maximo,\r\n    unidades_medio,\r\n    unidades_minimo,\r\n    porcentaje_entrada_minimo,\r\n    porcentaje_entrada_medio,\r\n    porcentaje_entrada_maximo,\r\n    porcentaje_jornada_minimo,\r\n    porcentaje_jornada_medio,\r\n    porcentaje_jornada_maximo,\r\n    tiempo_minimo,\r\n    tiempo_medio,\r\n    tiempo_maximo,\r\n    magnitud_temporal,\r\n    nombre, \r\n    apellido1, \r\n    apellido2,\r\n  } = info\r\n  const initialState = {\r\n    id_objetivo,\r\n    task: id_tarea,\r\n    tardif: tardif,\r\n    descripcion_tarea: descripcion_tarea,\r\n    codigo_perfil: codigo_perfil,\r\n    dificulty: dificultad,\r\n    unit_min: unidades_minimo,\r\n    unit_mid: unidades_medio,\r\n    unit_max: unidades_maximo,\r\n    entry_min: porcentaje_entrada_minimo,\r\n    entry_mid: porcentaje_entrada_medio,\r\n    entry_max: porcentaje_entrada_maximo,\r\n    time_min: tiempo_minimo,\r\n    time_mid: tiempo_medio,\r\n    time_max: tiempo_maximo,\r\n    magnitud_temporal: magnitud_temporal,\r\n    working_min: porcentaje_jornada_minimo,\r\n    working_mid: porcentaje_jornada_medio,\r\n    working_max: porcentaje_jornada_maximo,\r\n    nombre: nombre, \r\n    apellido1: apellido1, \r\n    apellido2: apellido2,\r\n  }\r\n  const [objective, setObjective] = useState(initialState)\r\n\r\n  useEffect(() => {\r\n    if (objective.unit_min || objective.unit_mid || objective.unit_max) {\r\n      if (!objective.magnitud_temporal || objective.magnitud_temporal == '' ) {\r\n         setObjective({ ...objective, magnitud_temporal: 'Dia' })\r\n      }\r\n    } else setObjective({ ...objective, magnitud_temporal: '' })\r\n  }, [objective.unit_min, objective.unit_mid, objective.unit_max])\r\n\r\n  const handleInputs = (event, index) => {\r\n    const { value, id } = event.target\r\n    const name = findResourceName(index, id)\r\n    setObjective({ ...objective, [name]: value })\r\n  }\r\n  const findResourceName = (index, id) => {\r\n    const resourceName = `${index <= 1 ? (index === 0 ? 'unit' : 'entry') : index === 2 ? 'time' : 'working'}_${id}`\r\n    return resourceName\r\n  }\r\n  const handleUpdate = (e) => {\r\n    e.preventDefault()\r\n    sendUpdateInfo(objective)\r\n    closeUpdateActivityModal()\r\n  }\r\n  return (\r\n    <UpdateActionModal\r\n      handleCloseModal={closeUpdateActivityModal}\r\n      modalTitle={`Editar Objetivo`}\r\n      open={true}\r\n      successUpdate={updateSuccess}\r\n      errorUpdate={updateError}\r\n      handleSubmit={handleUpdate}\r\n      children={\r\n        <GridContainer>\r\n          <GridItem xs={12} md={12}>\r\n            {codigo_perfil && (\r\n              <Typography variant='body1' gutterBottom>\r\n                Perfil: <b>{codigo_perfil}</b>\r\n              </Typography>\r\n            )}\r\n            {nombre && (\r\n              <Typography variant='body1' gutterBottom>\r\n                Puesto: <b>{nombre} {apellido1} {apellido2}</b>\r\n              </Typography>\r\n            )}\r\n            <Typography variant='body1' gutterBottom>\r\n                Tarea: <b>{descripcion_tarea}</b>\r\n              </Typography>\r\n          </GridItem>\r\n          <GridItem xs={12} className={classes.selector}>\r\n            <ObjetiveDificultySelect disabled={objective?.tardif == 'NO'} dificultySelect={objective} setDificultySelect={setObjective} />\r\n            {objective.magnitud_temporal && (\r\n              <GridItem xs={6}>\r\n                <InputLabel>Magnitud temporal</InputLabel>\r\n                <Selectable\r\n                  MenuProps={{\r\n                    className: classes.selectMenu,\r\n                  }}\r\n                  className={classes.select}\r\n                  value={objective.magnitud_temporal}\r\n                  onChange={(e) => setObjective({ ...objective, magnitud_temporal: e.target.value })}\r\n                  inputProps={{\r\n                    name: 'magnitud_temporal',\r\n                    id: 'magnitud_temporal',\r\n                  }}\r\n                >\r\n                  {['Dia', 'Semana', 'Mes'].map((time, index) => (\r\n                    <MenuItem\r\n                      classes={{ root: classes.selectMenuItem, selected: classes.selectMenuItemSelected }}\r\n                      value={time}\r\n                      key={index}\r\n                    >\r\n                      {time}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Selectable>\r\n              </GridItem>\r\n            )}\r\n          </GridItem>\r\n          {['Unidades', '% con respecto a la entrada', 'Tiempo (min/ud)', '% con respecto a la jornada'].map((label, index) => (\r\n            <GridItem key={index} xs={12} className={classes.sectionContainer}>\r\n              <InputLabel id={label} className={classes.resourcesTitle}>\r\n                {label}\r\n              </InputLabel>\r\n              <GridItem xs={12} className={classes.resourcesContainer}>\r\n                <GridItem xs={4}>\r\n                  <CustomInput\r\n                    labelText={'Mínimo'}\r\n                    id='min'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      onChange: (e) => handleInputs(e, index),\r\n                      type: 'number',\r\n                      value: objective[findResourceName(index, 'min')],\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={4}>\r\n                  <CustomInput\r\n                    labelText={'Medio'}\r\n                    id='mid'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      onChange: (e) => handleInputs(e, index),\r\n                      type: 'number',\r\n                      value: objective[findResourceName(index, 'mid')],\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={4}>\r\n                  <CustomInput\r\n                    labelText={'Máximo'}\r\n                    id='max'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      onChange: (e) => handleInputs(e, index),\r\n                      type: 'number',\r\n                      value: objective[findResourceName(index, 'max')],\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n              </GridItem>\r\n            </GridItem>\r\n          ))}\r\n        </GridContainer>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default UpdateObjective\r\n"]},"metadata":{},"sourceType":"module"}