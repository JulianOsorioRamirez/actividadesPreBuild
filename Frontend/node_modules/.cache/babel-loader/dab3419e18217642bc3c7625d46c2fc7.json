{"ast":null,"code":"import _slicedToArray from \"C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\juria\\\\OneDrive\\\\Escritorio\\\\Alehop\\\\CodigoFuente\\\\PruebaDespliegueAzure\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\InformesScreen\\\\InformeIndividualScreen\\\\components\\\\ViewGlobalesModal.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Tooltip, Typography, makeStyles } from '@material-ui/core';\nimport ReactExport from 'react-data-export';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport DownloadConfirmModal from 'components/DownloadConfirmModal/DownloadConfirmModal';\nimport GridContainer from 'components/Grid/GridContainer';\nimport GridItem from 'components/Grid/GridItem';\nimport Button from 'components/CustomButtons/Button';\nimport ViewInfoActionModal from 'components/ReactTableActions/ViewInfo/ViewInfoActionModal';\nimport styles from '../styles/informeIndividualScreenStyles';\nimport EvaluacionTable from './CalculosModal/EvaluacionTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\n\nvar ViewGlobalesModal = function ViewGlobalesModal(_ref) {\n  _s();\n\n  var viewInfo = _ref.viewInfo,\n      closeViewInfoModal = _ref.closeViewInfoModal,\n      info = _ref.info;\n  var ExcelFile = ReactExport.ExcelFile;\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var closeCalculoView = function closeCalculoView() {\n    closeViewInfoModal();\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      downloadExcel = _useState2[0],\n      setDownloadExcel = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      downloadPdf = _useState4[0],\n      setDownloadPdf = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      excel = _useState6[0],\n      setExcel = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pdf = _useState8[0],\n      setPdf = _useState8[1];\n\n  useEffect(function () {\n    if (pdf) {\n      exportPDF();\n    }\n  }, [pdf]);\n\n  var exportPDF = function exportPDF() {\n    var doc = new jsPDF(\"p\", \"mm\", \"a4\");\n    doc.text('Desempeño global:', 10, 10);\n    doc.text(info.nivel_global, 60, 10);\n    doc.text('% carga global:', 115, 10);\n    doc.text(info.porcentaje_global.toString(), 155, 10);\n    doc.autoTable({\n      body: info.evaluaciones,\n      columns: [{\n        header: 'MES',\n        dataKey: 'mes'\n      }, {\n        header: 'AÑO',\n        dataKey: 'anio'\n      }, {\n        header: 'DESEMPEÑO',\n        dataKey: 'nivel_global'\n      }, {\n        header: '% CARGA',\n        dataKey: 'porcentaje_carga'\n      }]\n    });\n    doc.save('desemp_global_informe_individual.pdf');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ViewInfoActionModal, {\n      open: viewInfo,\n      handleCloseModal: function handleCloseModal() {\n        return closeCalculoView();\n      },\n      modalTitle: \"Desempe\\xF1os Globales\",\n      anchoPersonalizado: \"md\",\n      hideButtonClose: true,\n      children: /*#__PURE__*/_jsxDEV(GridContainer, {\n        children: [/*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Desempe\\xF1o del periodo: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: info.nivel_global == 'EXCELENTE' ? classes.evaluacion_excelente : info.nivel_global == 'INSATISFACTORIO' ? classes.evaluacion_insatisfactorio : info.nivel_global == 'SATISFACTORIO' ? classes.evaluacion_satisfactorio : classes.evaluacion_alto,\n              children: info.nivel_global\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 40\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 14\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"% Carga del periodo: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.informacion_evaluacion,\n              children: info.porcentaje_global\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 38\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 14\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(GridItem, {\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(EvaluacionTable, {\n            showFilters: false,\n            scrollX: false,\n            columns: [{\n              Header: 'MES',\n              accessor: 'mes'\n            }, {\n              Header: 'AÑO',\n              accessor: 'anio'\n            }, {\n              Header: 'DESEMPEÑO',\n              accessor: 'nivel_global'\n            }, {\n              Header: '% CARGA',\n              accessor: 'porcentaje_carga'\n            }],\n            data: info.evaluaciones\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          onClick: function onClick() {\n            return setDownloadExcel(true);\n          },\n          style: {\n            marginLeft: '10px'\n          },\n          children: \"Exportar EXCEL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          onClick: function onClick() {\n            return setDownloadPdf(true);\n          },\n          style: {\n            marginLeft: '10px'\n          },\n          children: \"Exportar PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, _this), excel && /*#__PURE__*/_jsxDEV(ExcelFile, {\n      element: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        children: \"Exportar Excel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 36\n      }, _this),\n      filename: \"Desemp_global_informe_individual\",\n      hideElement: true,\n      children: /*#__PURE__*/_jsxDEV(ExcelFile.ExcelSheet, {\n        data: info.evaluaciones,\n        name: \"Desempe\\xF1o Global Informe Individual\",\n        children: [/*#__PURE__*/_jsxDEV(ExcelFile.ExcelColumn, {\n          label: \"MES\",\n          value: \"mes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, _this), /*#__PURE__*/_jsxDEV(ExcelFile.ExcelColumn, {\n          label: \"A\\xD1O\",\n          value: \"anio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }, _this), /*#__PURE__*/_jsxDEV(ExcelFile.ExcelColumn, {\n          label: \"DESEMPE\\xD1O GLOBAL\",\n          value: \"nivel_global\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }, _this), /*#__PURE__*/_jsxDEV(ExcelFile.ExcelColumn, {\n          label: \"% CARGA\",\n          value: \"porcentaje_carga\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 27\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }, _this), downloadExcel && /*#__PURE__*/_jsxDEV(DownloadConfirmModal, {\n      downloadFile: downloadExcel,\n      setDownloadFile: setDownloadExcel,\n      setFile: setExcel,\n      tableName: \"Desempe\\xF1o global informe individual\",\n      FileExtension: \"Excel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, _this), downloadPdf && /*#__PURE__*/_jsxDEV(DownloadConfirmModal, {\n      downloadFile: downloadPdf,\n      setDownloadFile: setDownloadPdf,\n      setFile: setPdf,\n      tableName: \"Desempe\\xF1o global informe individual\",\n      FileExtension: \"PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(ViewGlobalesModal, \"9Z5ZB+6ikfA9L0rCeL56VoBkjk8=\", false, function () {\n  return [useStyles, useDispatch];\n});\n\n_c = ViewGlobalesModal;\nexport default ViewGlobalesModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewGlobalesModal\");","map":{"version":3,"sources":["C:/Users/juria/OneDrive/Escritorio/Alehop/CodigoFuente/PruebaDespliegueAzure/Frontend/src/screens/control-panel/InformesScreen/InformeIndividualScreen/components/ViewGlobalesModal.js"],"names":["useEffect","useState","useDispatch","useSelector","Tooltip","Typography","makeStyles","ReactExport","jsPDF","DownloadConfirmModal","GridContainer","GridItem","Button","ViewInfoActionModal","styles","EvaluacionTable","useStyles","ViewGlobalesModal","viewInfo","closeViewInfoModal","info","ExcelFile","classes","dispatch","closeCalculoView","downloadExcel","setDownloadExcel","downloadPdf","setDownloadPdf","excel","setExcel","pdf","setPdf","exportPDF","doc","text","nivel_global","porcentaje_global","toString","autoTable","body","evaluaciones","columns","header","dataKey","save","evaluacion_excelente","evaluacion_insatisfactorio","evaluacion_satisfactorio","evaluacion_alto","informacion_evaluacion","Header","accessor","marginLeft"],"mappings":";;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,UAA9B,QAAgD,mBAAhD;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,OAAOC,oBAAP,MAAiC,sDAAjC;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,eAAP,MAA4B,iCAA5B;;;AAEA,IAAMC,SAAS,GAAGV,UAAU,CAACQ,MAAD,CAA5B;;AACA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,OAA4C;AAAA;;AAAA,MAAzCC,QAAyC,QAAzCA,QAAyC;AAAA,MAA/BC,kBAA+B,QAA/BA,kBAA+B;AAAA,MAAXC,IAAW,QAAXA,IAAW;AACpE,MAAMC,SAAS,GAAGd,WAAW,CAACc,SAA9B;AACA,MAAMC,OAAO,GAAGN,SAAS,EAAzB;AACA,MAAMO,QAAQ,GAAGrB,WAAW,EAA5B;;AAEA,MAAMsB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BL,IAAAA,kBAAkB;AACnB,GAFD;;AAIA,kBAA0ClB,QAAQ,CAAC,KAAD,CAAlD;AAAA;AAAA,MAAOwB,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,mBAAsCzB,QAAQ,CAAC,KAAD,CAA9C;AAAA;AAAA,MAAO0B,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAA0B3B,QAAQ,CAAC,KAAD,CAAlC;AAAA;AAAA,MAAO4B,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAsB7B,QAAQ,CAAC,KAAD,CAA9B;AAAA;AAAA,MAAO8B,GAAP;AAAA,MAAYC,MAAZ;;AAEAhC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI+B,GAAJ,EAAS;AACPE,MAAAA,SAAS;AACV;AACF,GAJQ,EAIN,CAACF,GAAD,CAJM,CAAT;;AAMA,MAAME,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,QAAMC,GAAG,GAAG,IAAI1B,KAAJ,CAAU,GAAV,EAAe,IAAf,EAAqB,IAArB,CAAZ;AACA0B,IAAAA,GAAG,CAACC,IAAJ,CAAS,mBAAT,EAA8B,EAA9B,EAAkC,EAAlC;AACAD,IAAAA,GAAG,CAACC,IAAJ,CAASf,IAAI,CAACgB,YAAd,EAA4B,EAA5B,EAAgC,EAAhC;AACAF,IAAAA,GAAG,CAACC,IAAJ,CAAS,iBAAT,EAA4B,GAA5B,EAAiC,EAAjC;AACAD,IAAAA,GAAG,CAACC,IAAJ,CAASf,IAAI,CAACiB,iBAAL,CAAuBC,QAAvB,EAAT,EAA4C,GAA5C,EAAiD,EAAjD;AACAJ,IAAAA,GAAG,CAACK,SAAJ,CAAc;AACZC,MAAAA,IAAI,EAAEpB,IAAI,CAACqB,YADC;AAEZC,MAAAA,OAAO,EAAE,CACP;AACEC,QAAAA,MAAM,EAAE,KADV;AAEEC,QAAAA,OAAO,EAAE;AAFX,OADO,EAKP;AACED,QAAAA,MAAM,EAAE,KADV;AAEEC,QAAAA,OAAO,EAAE;AAFX,OALO,EASP;AACED,QAAAA,MAAM,EAAE,WADV;AAEEC,QAAAA,OAAO,EAAE;AAFX,OATO,EAaP;AACED,QAAAA,MAAM,EAAE,SADV;AAEEC,QAAAA,OAAO,EAAE;AAFX,OAbO;AAFG,KAAd;AAqBAV,IAAAA,GAAG,CAACW,IAAJ,CAAS,sCAAT;AACD,GA5BD;;AA8BA,sBACE;AAAA,4BACA,QAAC,mBAAD;AACE,MAAA,IAAI,EAAE3B,QADR;AAEE,MAAA,gBAAgB,EAAE;AAAA,eAAMM,gBAAgB,EAAtB;AAAA,OAFpB;AAGE,MAAA,UAAU,0BAHZ;AAIE,MAAA,kBAAkB,EAAC,IAJrB;AAKE,MAAA,eAAe,EAAE,IALnB;AAME,MAAA,QAAQ,eACN,QAAC,aAAD;AAAA,gCACE,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,EAAd;AAAkB,UAAA,EAAE,EAAE,CAAtB;AAAA,iCACG;AAAA,kEAC0B;AAAM,cAAA,SAAS,EAAEJ,IAAI,CAACgB,YAAL,IAAqB,WAArB,GAAkCd,OAAO,CAACwB,oBAA1C,GAAiE1B,IAAI,CAACgB,YAAL,IAAqB,iBAArB,GAA0Cd,OAAO,CAACyB,0BAAlD,GAA+E3B,IAAI,CAACgB,YAAL,IAAqB,eAArB,GAAwCd,OAAO,CAAC0B,wBAAhD,GAA2E1B,OAAO,CAAC2B,eAApP;AAAA,wBAAuQ7B,IAAI,CAACgB;AAA5Q;AAAA;AAAA;AAAA;AAAA,qBAD1B;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,iBADF,eAME,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,EAAd;AAAkB,UAAA,EAAE,EAAE,CAAtB;AAAA,iCACG;AAAA,6DACwB;AAAM,cAAA,SAAS,EAAEd,OAAO,CAAC4B,sBAAzB;AAAA,wBAAkD9B,IAAI,CAACiB;AAAvD;AAAA;AAAA;AAAA;AAAA,qBADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,iBANF,eAWE;AAAA;AAAA;AAAA;AAAA,iBAXF,eAYE;AAAA;AAAA;AAAA;AAAA,iBAZF,eAaE,QAAC,QAAD;AAAU,UAAA,EAAE,EAAE,EAAd;AAAA,iCACE,QAAC,eAAD;AACI,YAAA,WAAW,EAAE,KADjB;AAEI,YAAA,OAAO,EAAE,KAFb;AAGI,YAAA,OAAO,EAAE,CACP;AACEc,cAAAA,MAAM,EAAE,KADV;AAEEC,cAAAA,QAAQ,EAAE;AAFZ,aADO,EAKP;AACED,cAAAA,MAAM,EAAE,KADV;AAEEC,cAAAA,QAAQ,EAAE;AAFZ,aALO,EASP;AACED,cAAAA,MAAM,EAAE,WADV;AAEEC,cAAAA,QAAQ,EAAE;AAFZ,aATO,EAaP;AACED,cAAAA,MAAM,EAAE,SADV;AAEEC,cAAAA,QAAQ,EAAE;AAFZ,aAbO,CAHb;AAqBI,YAAA,IAAI,EAAEhC,IAAI,CAACqB;AArBf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBAbF,eAsCE,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,OAAO,EAAE;AAAA,mBAAMf,gBAAgB,CAAC,IAAD,CAAtB;AAAA,WAAjC;AAA+D,UAAA,KAAK,EAAE;AAAE2B,YAAAA,UAAU,EAAE;AAAd,WAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAtCF,eAyCE,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,OAAO,EAAE;AAAA,mBAAMzB,cAAc,CAAC,IAAD,CAApB;AAAA,WAAjC;AAA6D,UAAA,KAAK,EAAE;AAAEyB,YAAAA,UAAU,EAAE;AAAd,WAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAzCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,aADA,EAwDCxB,KAAK,iBACc,QAAC,SAAD;AACE,MAAA,OAAO,eAAE,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADX;AAEE,MAAA,QAAQ,EAAC,kCAFX;AAGE,MAAA,WAAW,EAAE,IAHf;AAAA,6BAKE,QAAC,SAAD,CAAW,UAAX;AAAsB,QAAA,IAAI,EAAET,IAAI,CAACqB,YAAjC;AAA+C,QAAA,IAAI,EAAC,wCAApD;AAAA,gCACE,QAAC,SAAD,CAAW,WAAX;AAAuB,UAAA,KAAK,EAAC,KAA7B;AAAmC,UAAA,KAAK,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,QAAC,SAAD,CAAW,WAAX;AAAuB,UAAA,KAAK,EAAC,QAA7B;AAAmC,UAAA,KAAK,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,iBAFF,eAGE,QAAC,SAAD,CAAW,WAAX;AAAuB,UAAA,KAAK,EAAC,qBAA7B;AAAgD,UAAA,KAAK,EAAC;AAAtD;AAAA;AAAA;AAAA;AAAA,iBAHF,eAIE,QAAC,SAAD,CAAW,WAAX;AAAuB,UAAA,KAAK,EAAC,SAA7B;AAAuC,UAAA,KAAK,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,iBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,aAzDpB,EAsEChB,aAAa,iBACZ,QAAC,oBAAD;AACE,MAAA,YAAY,EAAEA,aADhB;AAEE,MAAA,eAAe,EAAEC,gBAFnB;AAGE,MAAA,OAAO,EAAEI,QAHX;AAIE,MAAA,SAAS,EAAC,wCAJZ;AAKE,MAAA,aAAa,EAAC;AALhB;AAAA;AAAA;AAAA;AAAA,aAvEF,EA+ECH,WAAW,iBACV,QAAC,oBAAD;AACE,MAAA,YAAY,EAAEA,WADhB;AAEE,MAAA,eAAe,EAAEC,cAFnB;AAGE,MAAA,OAAO,EAAEI,MAHX;AAIE,MAAA,SAAS,EAAC,wCAJZ;AAKE,MAAA,aAAa,EAAC;AALhB;AAAA;AAAA;AAAA;AAAA,aAhFF;AAAA,kBADF;AA2FD,CA7ID;;GAAMf,iB;UAEYD,S,EACCd,W;;;KAHbe,iB;AA+IN,eAAeA,iBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Tooltip, Typography, makeStyles } from '@material-ui/core'\r\nimport ReactExport from 'react-data-export'\r\nimport jsPDF from 'jspdf'\r\nimport 'jspdf-autotable'\r\nimport DownloadConfirmModal from 'components/DownloadConfirmModal/DownloadConfirmModal'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport ViewInfoActionModal from 'components/ReactTableActions/ViewInfo/ViewInfoActionModal'\r\nimport styles from '../styles/informeIndividualScreenStyles'\r\nimport EvaluacionTable from './CalculosModal/EvaluacionTable'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst ViewGlobalesModal = ({ viewInfo, closeViewInfoModal, info }) => {\r\n  const ExcelFile = ReactExport.ExcelFile\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  \r\n  const closeCalculoView = () => {\r\n    closeViewInfoModal()\r\n  }\r\n\r\n  const [downloadExcel, setDownloadExcel] = useState(false)\r\n  const [downloadPdf, setDownloadPdf] = useState(false)\r\n  const [excel, setExcel] = useState(false)\r\n  const [pdf, setPdf] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (pdf) {\r\n      exportPDF()\r\n    }\r\n  }, [pdf])\r\n\r\n  const exportPDF = () => {\r\n    const doc = new jsPDF(\"p\", \"mm\", \"a4\")\r\n    doc.text('Desempeño global:', 10, 10)\r\n    doc.text(info.nivel_global, 60, 10)\r\n    doc.text('% carga global:', 115, 10)\r\n    doc.text(info.porcentaje_global.toString(), 155, 10)\r\n    doc.autoTable({\r\n      body: info.evaluaciones,\r\n      columns: [\r\n        {\r\n          header: 'MES',\r\n          dataKey: 'mes',\r\n        },\r\n        {\r\n          header: 'AÑO',\r\n          dataKey: 'anio',\r\n        },\r\n        {\r\n          header: 'DESEMPEÑO',\r\n          dataKey: 'nivel_global',\r\n        },\r\n        {\r\n          header: '% CARGA',\r\n          dataKey: 'porcentaje_carga',\r\n        },\r\n      ],\r\n    })\r\n    doc.save('desemp_global_informe_individual.pdf')\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <ViewInfoActionModal\r\n      open={viewInfo}\r\n      handleCloseModal={() => closeCalculoView()}\r\n      modalTitle={`Desempeños Globales`}\r\n      anchoPersonalizado='md'\r\n      hideButtonClose={true}\r\n      children={\r\n        <GridContainer>\r\n          <GridItem xs={12} md={6}>\r\n             <div>\r\n                Desempeño del periodo: <span className={info.nivel_global == 'EXCELENTE'? classes.evaluacion_excelente : info.nivel_global == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : info.nivel_global == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{info.nivel_global}</span>\r\n             </div>\r\n          </GridItem>\r\n          <GridItem xs={12} md={6}>\r\n             <div>\r\n                % Carga del periodo: <span className={classes.informacion_evaluacion}>{info.porcentaje_global}</span>\r\n             </div>\r\n          </GridItem>\r\n          <br></br>\r\n          <br></br>\r\n          <GridItem xs={12}>\r\n            <EvaluacionTable\r\n                showFilters={false}\r\n                scrollX={false}\r\n                columns={[\r\n                  {\r\n                    Header: 'MES',\r\n                    accessor: 'mes',\r\n                  },\r\n                  {\r\n                    Header: 'AÑO',\r\n                    accessor: 'anio',\r\n                  },\r\n                  {\r\n                    Header: 'DESEMPEÑO',\r\n                    accessor: 'nivel_global',\r\n                  },\r\n                  {\r\n                    Header: '% CARGA',\r\n                    accessor: 'porcentaje_carga',\r\n                  },\r\n                ]}\r\n                data={info.evaluaciones}\r\n            />\r\n          </GridItem>\r\n          <Button color='primary' onClick={() => setDownloadExcel(true)} style={{ marginLeft: '10px' }}>\r\n            Exportar EXCEL\r\n          </Button>\r\n          <Button color='primary' onClick={() => setDownloadPdf(true)} style={{ marginLeft: '10px' }}>\r\n            Exportar PDF\r\n          </Button>                                         \r\n        </GridContainer>\r\n        \r\n      }\r\n    />\r\n    {excel && (\r\n                        <ExcelFile\r\n                          element={<Button color='primary'>Exportar Excel</Button>}\r\n                          filename='Desemp_global_informe_individual'\r\n                          hideElement={true}\r\n                        >\r\n                          <ExcelFile.ExcelSheet data={info.evaluaciones} name='Desempeño Global Informe Individual'>\r\n                            <ExcelFile.ExcelColumn label='MES' value='mes' />\r\n                            <ExcelFile.ExcelColumn label='AÑO' value='anio' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO GLOBAL' value='nivel_global' />\r\n                            <ExcelFile.ExcelColumn label='% CARGA' value='porcentaje_carga' />\r\n                          </ExcelFile.ExcelSheet>\r\n                        </ExcelFile>\r\n    )}    \r\n    {downloadExcel && (\r\n      <DownloadConfirmModal\r\n        downloadFile={downloadExcel}\r\n        setDownloadFile={setDownloadExcel}\r\n        setFile={setExcel}\r\n        tableName='Desempeño global informe individual'\r\n        FileExtension='Excel'\r\n      />\r\n    )}\r\n    {downloadPdf && (\r\n      <DownloadConfirmModal\r\n        downloadFile={downloadPdf}\r\n        setDownloadFile={setDownloadPdf}\r\n        setFile={setPdf}\r\n        tableName='Desempeño global informe individual'\r\n        FileExtension='PDF'\r\n      />\r\n    )}      \r\n    </>   \r\n  )  \r\n}\r\n\r\nexport default ViewGlobalesModal\r\n"]},"metadata":{},"sourceType":"module"}